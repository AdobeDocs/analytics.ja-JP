---
description: 処理ルールはデータ収集をシンプル化し、レポーティングに送信されるコンテンツを管理します。
subtopic: Processing rules
title: 処理ルールの概要
feature: Processing Rules
role: Admin
exl-id: 0244aba2-4345-463a-8528-d4dcd2f872ff
source-git-commit: a6967c7d4e1dca5491f13beccaa797167b503d6e
workflow-type: tm+mt
source-wordcount: '640'
ht-degree: 3%

---

# 処理ルールの概要

処理ルールを使用すると、データをレポートスイートに書き込む前にデータの収集方法を変更できます。

**[!UICONTROL 管理者]**/**[!UICONTROL レポートスイート]**/レポートスイートを選択/**[!UICONTROL 設定を編集]**/**[!UICONTROL 一般]**/**[!UICONTROL 処理ルール]**

>[!WARNING]
>
>処理ルールはデータ収集に直接影響し、誤って使用するとデータが失われる可能性があります。 データ品質の問題を軽減するには、実稼動レポートスイートで処理ルールを有効にする前に、必ず開発レポートスイートで処理ルールをテストしてください。

処理ルールの 2 つの主なユースケースを次に示します。

* **コンテキストデータ変数の実装ワークフローを使用**：実装で変数を直接設定する代わりに、[&#x200B; コンテキストデータ変数 &#x200B;](/help/implement/vars/page-vars/contextdata.md) を使用して、キーと値のペアを設定できます。 例えば、次のように設定する代わりに、

  ```js
  s.eVar1 = "Robert Munch";
  s.eVar2 = "Books";
  s.eVar3 = "Youth";
  ```

  代わりに、次を設定できます。

  ```js
  s.contextData['author'] = "Robert Munch";
  s.contextData['section'] = "Books";
  s.contextData['genre'] = "Youth";
  ```

  その後、コンテキストデータ変数を Analytics UI の目的のディメンションおよび指標にマッピングできます。

  プロパティに Analytics を実装するために組織内の開発者と通信する場合は、コンテキストデータ変数を使用すると、通信プロセスが簡素化されます。 開発者は各キーと値のペアを 1 回実装するだけで、Analytics 管理者はデータが正しい実装変数に到達することを確認できます。

* **収集時にデータを変更**：このユースケースには、データ品質に対する一時的な修正や実装のギャップを埋めるための支援など、様々な用途があります。 詳細と具体的な例については、[&#x200B; 処理ルールのユースケース &#x200B;](pr-use-cases.md) を参照してください。

## 権限

製品管理者は、デフォルトで処理ルールにアクセスできます。 管理者以外のユーザーを **[!UICONTROL 処理ルール]** 権限項目を含む製品プロファイルに含めることで、管理者以外のユーザーに処理ルールへのアクセス権を付与できます。 詳しくは、[&#x200B; レポートスイートツールの製品プロファイル権限 &#x200B;](/help/admin/admin-console/permissions/report-suite-tools.md) を参照してください。

## 処理ルールを作成または編集する際の考慮事項

処理ルールを作成または編集する際は、次の点を考慮してください。

* **空の値の可能性**：ルールを作成する場合、上書き値が空の場合を考えてみてください。 例えば、eVar1 をeVar2 で上書きするルールがあり、eVar2 が空の場合、両方の変数は空白になります。 Adobeでは、変数値をチェックする条件を追加してから、別の値を上書きすることをお勧めします。
* **保存時に直ちに適用**：収集されたデータを保存すると、収集されたデータに処理ルールが適用されます。 既に収集されたデータにさかのぼって適用されることはありません。
* **ルール内の処理順序**：複数の処理ルールがある場合は、ルールの実行順序が重要です。 特定の変数を複数のルールで使用する場合は、それらの変数が正しい順序で実行されていることを確認してください。 ルール 1 のeVar3 を上書きする場合、その元のeVar3 値は以降のルールでは使用できません。
* **データ収集パイプライン内の処理順序**：データ収集パイプライン全体における処理ルールの適用場所については、[Adobe Analyticsのデータの処理順序 &#x200B;](/help/technotes/processing-order.md) を参照してください。
* **エンコーディング**：ほとんどの場合、UTF-8 エンコーディングに固定します。
* **大文字と小文字の区別**：処理ルールの文字列比較では、大文字と小文字は区別されません。 値の上書きに使用する文字列値は、変数に直接入力する場合と同じルールを使用します。
* **単一レポートスイート**：処理ルールを編集すると、1 つのレポートスイートにのみ適用されます。 レポートスイートマネージャーで複数のレポートスイートを選択すると、1 つのレポートスイートが強制的に選択されます。 目的の処理ルールを作成または編集したら、[&#x200B; それらのルールを他のレポートスイートにコピーする &#x200B;](pr-copy.md) ことができます。
* **データの除外なし**：データの除外は、処理ルールでは意図した機能ではありません。 データ収集レベルで [`abort`](/help/implement/vars/config-vars/abort.md) を使用するか、データ収集後に [VISTA ルール &#x200B;](/help/technotes/vista.md) を使用することを検討します。
* **使用可能な変数**：処理ルールでは、すべてのディメンションと指標を使用できるわけではありません。 サポートされる機能の完全なリストについては、[&#x200B; 処理ルールで使用できるディメンションと指標 &#x200B;](pr-variables.md) を参照してください。
* **許可されるルールの数**：各レポートスイートには、最大 150 個のルールを含めることができます。 各ルールには、最大 30 個の条件を含めることができます。

>[!MORELIKETHIS]
>
>![VideoCheckedOut](/help/assets/icons/VideoCheckedOut.svg) [&#x200B; 処理ルールを使用して、コンテキストデータ変数を prop と eVar にマッピングする &#x200B;](https://experienceleague.adobe.com/en/docs/analytics-learn/tutorials/implementation/implementation-basics/map-contextdata-variables-into-props-and-evars-with-processing-rules){target="_blank"}
