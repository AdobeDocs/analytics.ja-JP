---
description: カスタムボットルールを使用すると、定義した条件に基づいてトラフィックをフィルターできます。
seo-description: カスタムボットルールを使用すると、定義した条件に基づいてトラフィックをフィルターできます。
seo-title: カスタムボットルールの作成
solution: Analytics
subtopic: ボットルール
title: カスタムボットルールの作成
topic: 管理ツール
uuid: abbc5c7e-912f-4660- a02b-0431a740ec70
translation-type: tm+mt
source-git-commit: 4a627e268994d0152a19fb44e9bc06ea7ebc64c6

---


# カスタムボットルールの作成

カスタムボットルールを使用すると、定義した条件に基づいてトラフィックをフィルターできます。

カスタムボットルールは、次の条件タイプを使用して定義されます。

* ユーザーエージェント
* IP アドレス
* IP 範囲

1 つのルールに複数の条件を定義できます。複数の条件で照合するには、「or」を使用します。例えば、ユーザーエージェントに関する値と IP アドレスを指定した場合、いずれかの条件に適合した場合にボットトラフィックと見なされます。

## ユーザーエージェント

ユーザーエージェントの条件では、そのユーザーエージェントの値を調べて、指定した文字で&#x200B;**[!UICONTROL 始まる]**&#x200B;か、その文字を&#x200B;**含む]かを判断します。[!UICONTROL **「**[!UICONTROL 次を含む]」を選択した場合、ユーザーエージェントの任意の場所に指定した文字が含まれていれば、一致と見なされます。**

オプションの値を「**[!UICONTROL 次を含まない]」リストに含めることで、照合を適切に行う際にユーザーエージェントに含めない値を定義できます。**&#x200B;複数の値を指定するには、1 行に 1 つの値を設定します。ユーザーエージェントが照合文字列で指定した条件に一致するとき、「次を含まない」リスト内の文字列も含んでいる場合は、一致と見なされません。

「**[!UICONTROL 次を含む]」フィールドに入力できるのは 100 文字までです。**「次を含まない」リストに入力できる文字数は、255 文字から、各改行の区切り文字の数を引いた文字数です（区切り文字の数は文字列の数 から 1 を引いた数になります。例えば、4 つの「次を含まない」文字列を指定する場合、3 文字の区切り文字が必要です）。**&#x200B;すべての文字列照合では、大文字と小文字が区別されません。

## IP アドレス（ワイルドカードの照合を含む）

1 つの IP アドレスと照合するか、ワイルドカード（*）を使用して同じブロック内の複数のアドレスと照合します。照合する IP アドレスの数値を指定します。ワイルドカードを使用して照合する場合、どのような値にも一致させたい部分に * を使用します。次に、IP アドレスの照合文字列の例を示します。

```
10.10.10.1
10.10.10.*
```

## IP アドレスの範囲

照合する IP アドレスの開始と終了の範囲を指定します。ワイルドカードを使用して照合する場合、どのような値にも一致させたい部分に * を使用します。

## カスタムボットルールの定義

1. **[!UICONTROL Analytics]** / **[!UICONTROL 管理者に移動]**&#x200B;し、1つまたは複数のレポートスイートを選択して、 **[!UICONTROL 一般]** / **[!UICONTROL ボットルール]**&#x200B;をクリックします。
1. Click **[!UICONTROL Add Rule]** and define one or more match conditions.
1. 「**[!UICONTROL 保存]**」をクリックします。変更が反映されるまで、最大 30 分かかります。

>[!Ntoo]
>ユーザーインターフェイスでは 500 個のルールを手動で定義することが可能です。この制限を超える場合は、「ファイルのインポート」および「ボットルールをエクスポート」オプションを使用して、ルールを一括処理する必要があります。
