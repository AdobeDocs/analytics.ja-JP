---
description: 処理ルールを効果的に使用するために、データ収集中にそれらのルールが適用されるタイミングを理解する必要があります。
subtopic: Processing rules
title: 処理順序
topic: Admin tools
uuid: cea01d13-dfd5-40f7-8b2f-b6e2fe8354df
translation-type: tm+mt
source-git-commit: 2ffa989156dd9bc4f6ef9a216e8c06425cc39440

---


# 処理順序

処理ルールを効果的に使用するために、データ収集中にそれらのルールが適用されるタイミングを理解する必要があります。

![](assets/analytics_processing_order_test.png)

次の表に、処理ルールの適用前後に一般に使用可能なデータを示します。

## 処理ルール前

| ディメンション | 説明 |
|--- |--- |
| 動的変数参照 | 変数を動的に入力するには、HTTP ヘッダーや他の変数から情報を取得します。例えば、`s.eVar5="D=c1"` と指定すると、eVar5 に prop1 の値がセットされます。 |
| AppMeasurement | AppMeasurementで使用される関数とプラグインは、ブラウザーまたはクライアントアプリケーションで実行されます。 |
| Dynamic Tag Management | Dynamic Tag Management で定義したルールは、定義どおりに実行されます。 |
| ボットルール | [ボットルール](/help/admin/admin/bot-removal/bot-rules.md)を使用すると、既知のスパイダーやボットによって生成されるトラフィックを、レポートスイートから削除できます。 |

## 処理ルール後

| ディメンション | 説明 |
|--- |--- |
| VISTA によって追加されるデータ | 処理ルールは VISTA の前に適用されます。 |
| 訪問ページ番号 | 原則として、処理ルールは、現在のヒットにのみ含まれるデータを認識します。訪問ページ番号は、処理ルールの適用後にコンパイルされます。 |
| ページ名が設定されていない場合は、クリーン URL をページ名として追加 | 処理ルールと VISTA の適用後、ページ名が設定されていない場合、クリーン URL がページ名として追加されます。これは、処理ルールの適用後に行われるため、ページ名が空白かどうかをチェックする条件を追加することをお勧めします。サイトのコンテンツ／ページレポートを実行し、ページ名に https:// 値が表示された場合、ページ名が空白で、URL が使用されている可能性があります。空白のページ名をテストするか、ページ名またはページ URL に特定の値が含まれているかどうかを確認するテストを行う条件を設定できます。これにより、ページ名を必要に応じて設定できます。 |
| マーケティングチャネルの処理ルール | 処理ルールを使用して、[マーケティングチャネル処理ルール](https://marketing.adobe.com/resources/help/ja_JP/mchannel/c_rules.html)によって処理するデータを準備できます。 |
| GEO 参照 | これには、訪問者の州と訪問者の郵便番号が含まれます。 |
| eVar の持続性 | 以前のヒットに含まれていた eVar はルールの処理時の各ヒットまで持続されません。処理される現在のヒットに設定された eVar のみ使用できます。 |

## VISTA を使用してヒットをコピーするときに処理ルールを適用する方法 {#section_576EE8C240A24CBA979BD614E8D5338D}

他のレポートスイートにヒットをコピーするように VISTA ルールが設定されている場合、ヒットは、他のレポートスイートに定義されている処理ルールを介して送信されます。

元のレポートスイートに処理ルールが定義されている場合、エンジニアリングサービスが VISTA ルールをどのように設定したかに応じて、ルールの適用の有無が決まります。確認するには、VISTA ルールで「pre」または「post」値を追加のレポートスイートにコピーしたかどうかを導入担当者に問い合わせてください。「pre」値をコピーした場合、元のレポートスイートに定義されている処理ルールは適用されません。「post」値をコピーした場合、処理ルールが適用された後にヒットがコピーされます。
