---
title: pfo（Page Firstのみ）(_F)
description: 特定のルーチンが1ページにつき1回だけ実行されるようにします。
translation-type: tm+mt
source-git-commit: 26f06adbef1608a6e01df3ab1d3ad4ba78abc28f

---


# Adobeプラグイン：pfo（Page Firstのみ）(_F)

> [!IMPORTANT] このプラグインは、Adobe Analyticsを使用してより多くの価値を得るために、アドビコンサルティングから提供されます。 アドビカスタマーケアは、インストールやトラブルシューティングを含め、このプラグインに対するサポートを行いません。 このプラグインに関するヘルプが必要な場合は、貴社のアカウントマネージャーにお問い合わせください。 担当コンサルタントとのミーティングを設定できます。

このプ `p_fo` ラグインは、特定のJavaScriptオブジェクトが存在するかどうかを確認するユーティリティです。 オブジェクトが存在しない場合は、プラグインがオブジェクトを作成して返しま `true`す。 JavaScriptオブジェクトが既にページ上に存在する場合は、そのオブジェクトが返されま `false`す。 このプラグインは、ページ上でコードを1回だけ実行する場合に便利です。 その他のプラグインの一部は、このコードを使用して動作します。 ページ上でのコードの実行回数を気にしない場合や、依存プラグインを使用しない場合は、このプラグインは不要です。

## Adobe Experience Platform Launch Extensionを使用してプラグインをインストールする

アドビでは、最も一般的に使用されるプラグインを使用できる拡張機能を提供しています。

1. Log in to [launch.adobe.com](https://launch.adobe.com) using your AdobeID credentials.
1. 目的のプロパティをクリックします。
1. 「拡張子」タブ [!UICONTROL に移動し] 、「カタログ」ボタンをクリッ [!UICONTROL クします] 。
1. Common Analytics Plugins  Extensionのインストールと公開
1. プラグインを使用する起動ルールに対して、次の設定を含むアクションを追加します。
   * 拡張子：共通のAnalyticsプラグイン
   * アクションタイプ：addProductEvarの初期化
1. ルールへの変更を保存して発行します

## カスタムコードエディターの起動を使用したプラグインのインストール

プラグイン拡張機能を使用しない場合は、カスタムコードエディターを使用できます。

1. Log in to [launch.adobe.com](https://launch.adobe.com) using your AdobeID credentials.
1. 目的のプロパティをクリックします。
1. 「拡張」タブ [!UICONTROL に移動し] 、Adobe Analytics拡張機能の [!UICONTROL 下にある「設定] 」ボタンをクリックします。
1. 「カスタムコー [!UICONTROL ドを使用してトラッキングを設定] 」アコーディオンを展開すると、「エディターを開く  」ボタンが表示されます。
1. カスタムコードエディターを開き、下に示すプラグインコードを編集ウィンドウに貼り付けます。
1. 変更を保存し、Analytics拡張機能に公開します。

## AppMeasurementを使用したプラグインのインストール

Analyticsトラッキングオブジェクトをインスタンス化した後（を使用して）、AppMeasurementファイルの任意の場所に次のコードをコピーして貼り付 `s_gi`けます。 コードのコメントとバージョン番号を実装に保持しておくと、アドビは潜在的な問題のトラブルシューティングに役立ちます。

```js
/******************************************* BEGIN CODE TO DEPLOY *******************************************/
/* Adobe Consulting Plugin: p_fo (pageFirstOnly) v2.0 */
s.p_fo=function(on){var s=this;s.__fo||(s.__fo={});if(s.__fo[on])return!1;s.__fo[on]={};return!0};
/******************************************** END CODE TO DEPLOY ********************************************/
```

## プラグインの使用

このメソ `p_fo` ッドでは、次の引数を使用します。

* **on** （必須、文字列）:プラグインが作成するJavaScriptオブジェクトの名前（オブジェクトがまだページに存在しない場合）。

オブジェクトが存在しない場合、このメソッドはオブジェクトを返 `true` し、作成します。 オブジェクトが既に存在する場合、このメソッドはを返しま `false`す。

## 呼び出しの例

### 例1

次のコードは、ページ内に「myobject」オブジェクトが存在するかどうかを確認します。  「myobject」オブジェクトが存在しない場合、コードは「myobject」オブジェクトを作成し、trueの値を返します。  その結果、条件ステートメント内のコード(Console.log(&#39;hello&#39;)；など)が実行されます。

一方、p_fo呼び出しが行われる際に「myobject」オブジェクトが既に存在する場合、p_fo関数はfalseの値を返し、条件文はfalseと見なされます。  この場合、条件ステートメント内のコードは実行されません。

```javascript
if(s.p_fo("myobject"))
{
  console.log("hello");
}
```

**** 注意：新しいページオブジェクト/DOMが読み込まれる（または現在のページがリロードされる）たびに、on引数で指定されたオブジェクトは存在しなくなり、ページの読み込みが完了した後初めて実行されたときに、p_foプラグインは再びtrueを返します。

## バージョン履歴

### 2.0

* ポイントリリース（再コンパイル、コードサイズが小さい）。
* 戻り値の型を整数からブール値に変更しました。

### 1.0

* 初回リリース。
