---
title: データレイヤーの作成
description: Analytics の実装におけるデータレイヤーと、それらを Adobe Analytics で変数のマッピングに使用する方法について説明します。
feature: Implementation Basics
exl-id: 271dd8fa-3ba1-4a7f-b16a-c48a736a5bb5
source-git-commit: 571192e27972f2bc15912481f9a578427e1c1cfb
workflow-type: tm+mt
source-wordcount: '468'
ht-degree: 60%

---

# データレイヤーの作成

データレイヤーは、サイト上の JavaScript オブジェクトのフレームワークで、Analytics の実装で使用される変数値が含まれます。 Analytics 変数に値を割り当てる際の、より詳細な制御とメンテナンスの容易化が可能です。

## 前提条件

[ソリューションデザインドキュメントの作成](solution-design.md) - 組織がトラッキング要件に合わせて調整をおこなうことが重要です。組織の開発チームに連絡する前に、ソリューションデザインドキュメントの準備が整っていることを確認します。

## ワークフロー

データレイヤーを使用して Adobe Analytics を実装する場合は、通常次の手順に従います。

1. **サイト開発チームと協力して、データレイヤーを実装します**：サイト開発チームは、主にデータレイヤーオブジェクトに正しい値が入力されることを確認する必要があります。このページをサイト開発チームと共に確認し、チーム間で期待値が一致することを確認します。

   >[!NOTE]
   >
   > アドビ推奨のデータレイヤー仕様に従うことはオプションです。データレイヤーが既に存在する場合、またはアドビの仕様に従わない場合は、どの仕様に従うかを組織で決定してください。

1. **ブラウザーコンソールを使用して、データレイヤーを検証します**：データレイヤーが作成されたら、任意のブラウザーの開発者コンソールを使用して、データレイヤーが機能していることを検証できます。デベロッパーコンソールは、`F12` キーを使用してほとんどのブラウザーで開くことができます。変数値の例は `adobeDataLayer.page.title` です。
1. **Adobe Experience Platformデータ収集を使用して、データレイヤーオブジェクトをデータ要素にマッピングする**:この手順は、組織の実装方法によって異なります。
   * **Web SDK を使用する場合**:目的のデータレイヤーオブジェクトをAdobe Experience Platform Edge の目的の XDM フィールドにマッピングします。 詳しくは、 [Analytics 変数のマッピング](../aep-edge/variable-mapping.md) を使用して、目的のデータレイヤーマッピングを決定します。
   * **Analytics 拡張機能を使用する場合**:Adobe Experience Platformデータ収集の「タグ」の下にデータ要素を作成し、目的のデータレイヤーオブジェクトに割り当てます。 次に、Analytics 拡張機能内で、各データ要素を適切な Analytics 変数に割り当てます。

## 仕様

Adobeは、 [Adobeクライアントデータレイヤー](https://github.com/adobe/adobe-client-data-layer/wiki) 新規または再構造化された実装の場合。

組織は、 [Customer Experience Digital Data Layer](https://www.w3.org/2013/12/ceddl-201312.pdf)、または他のカスタム仕様全体。 組織のニーズを満たす一貫したデータレイヤーに合わせることが最も重要です。

データレイヤーは拡張可能です。組織に固有の要件がある場合は、そのニーズに合わせてオブジェクトをデータレイヤーに含めることができます。

## データレイヤー値の設定

通常、データレイヤーはサーバーサイドを生成し、サイトコンテンツの構築に使用したのと同じオブジェクトを参照します。組織の[ソリューションデザインドキュメント](solution-design.md)で設定されたトラッキング要件に基づいて、サイトのデータレイヤーを設定します。

## 次の手順

[データ要素へのデータレイヤーオブジェクトのマッピング](../launch/layer-to-elements.md)：Adobe Experience Platform で、サイトのデータレイヤーを使用します。
