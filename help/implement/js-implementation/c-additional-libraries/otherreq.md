---
description: JavaScript を使用せずに Analytics を導入する場合、追加の要件と設定があります。
keywords: Analytics Implementation;case sensitive;encode query parameters;invalid characters;secure image requests;maximum variable length;referring;url;caching;namespace
title: JavaScript を使用しない実装のガイドライン
topic: Developer and implementation
uuid: c672dd63-1c74-4f66-8992-9257c5a75e36
translation-type: tm+mt
source-git-commit: 99ee24efaa517e8da700c67818c111c4aa90dc02

---


# JavaScript を使用しない実装のガイドライン

JavaScript を使用せずに Analytics を導入する場合、追加の要件と設定があります。

導入の詳細については、サンプルコードを参照してください。追加の要件と設定の概要について、次の情報に示します。

<!--Meike, I converted this from a table. Table within a table was a mess, and I'm not sure I captured everything. Please check this content against the orginal. -Bob -->

**大文字と小文字の区別**

パラメーター名（`pageName`、`purchaseID` など）は大文字と小文字を区別し、[クエリパラメーター](/help/implement/js-implementation/data-collection/query-parameters.md)で指定されている場合を除き、適切にデータを記録できません。

**クエリパラメーターのエンコード**

各クエリ文字列パラメーターの値は、URL エンコードする必要があります。URL エンコードでは、クエリ文字列に出現するときは通常は無効である文字（スペース文字など）を、`%` で始まるエンコードされた文字に変換します。例えば、スペース文字は `%20` に変換されます。

この機能の JavaScript 版は、escape 関数です（デコードは unescape 関数）。Microsoft IIS バージョン 5.0 にも、クエリ文字列のエンコードに関する Escape と Unescape 関数があります。他の Web サーバースクリプト言語でも、エンコード／デコードユーティリティが用意されています。

**変数の最大長**

各変数には、最大の長さがあります。この長さは、[Analytics 変数](/help/implement/js-implementation/c-variables/sc-variables.md)で変数ごとに指定されています。変数の最大長を超えると、Analytics で保存や表示をするときに、変数の値が切り詰められることがあります。

**無効な文字**

10 進法表記で 128 以上の文字コードを持つ文字、および 128 以下の非印字文字コードは無効です。HTML の書式（&lt;h1&gt;）や、商標、登録商標および著作権の記号も無効です。

**セキュリティで保護された（&lt;https:&gt;）イメージリクエストとセキュリティで保護されていない（&lt;http:&gt;）イメージリクエスト**

https（セキュリティで保護されたプロトコル）を介してアクセスされるページでは、イメージリクエストの URL 部分が、データ収集サーバーの別のセットに対応するように変更されます。

次の情報は、セキュリティで保護されたイメージリクエストとセキュリティで保護されていないイメージリクエストで使用される URL を示します。

* 上記の URL 中の `*` の部分は、アドビコンサルタントから指定されるデータセンター固有の URL になります。アドビでは複数のデータセンターを使用しており、お客様の組織が割り当てられている正しい URL を導入する必要があります。貴社のアカウントで Admin Console からダウンロードされたコードには、正しいデータセンターが自動的に指定されています。外部ソースから提供されたコードは、場合によっては、正しいデータセンターを指定するように修正する必要があります。
* 複数のレポートスイートを使用する場合は、次のように、URL のドメイン部分ではなく、ディレクトリ部分で示す必要があります。
* 上記の URL 中の `*` の部分は、アドビコンサルタントから指定されるデータセンター固有の URL になります。アドビでは複数のデータセンターを使用しており、お客様の組織が割り当てられている正しい URL を導入する必要があります。

**URL および参照 URL**

URL および参照 URL は、サーバーから取得した値を `g=` 変数と `r=` 変数に入力できます。Request.ServerVariables（`HTTP\_REFERRER`）または Request.ServerVariables（`(URL) (IIS/ASP)`）、あるいはご使用のサーバー／スクリプトテクノロジーに適した変数を使用します。参照 URL（`( r=)`）は、参照 URL、ドメイン、検索エンジンおよび検索キーワードを追跡するために非常に重要なものです。

pageName を使用していない場合は、現在の URL フィールドに必ず一意の値を入力してください。も現在の URL`(g=)`も入力されていない場合は、記録が無効になり処理されません。少なくとも、記録を処理するために、URL は必須のフィールドです。

**キャッシュの効果**

HTML および他の Web ページは、訪問者とコンテンツを提供する Web サイトとの間をつなぐブラウザーまたはサーバーによってキャッシュされることがあります。「キャッシュバスティング」技術が使用されていない場合、キャッシュによってページビューなどのイベントの正確なカウントが妨げられます。

アドビの標準 JavaScript には、ページおよびイメージのキャッシュがおこなわれないようにするために、イメージリクエストを変更する動的な方法が採用されています。これにより、ページビューの正確なカウントが可能になります。

ただし、サーバーサイドでイメージリクエストを生成する場合は、このようなランダム化はおこなわれません。ページのリロードと（ブラウザーのキャッシュ内またはプロキシサーバー内に）キャッシュされたページは、サーバーサイドのイメージリクエストを使用したときに、カウントされない場合があります。

定義により、SSL（`https:`）ページはキャッシュされないので、この注意点はセキュリティで保護されていない（`http:`）ページにのみ当てはまります。また、パラメーターを持つページ（`https://www.samplesite.com/page.asp?parameter=1`）や特定のファイル拡張子（`.jsp`、`.asp` など）もキャッシュされません。

以下の例でも、最小限の JavaScript ソリューションを示します。このソリューションでは、サーバーサイドのイメージリクエストを主に作成し、ブラウザーでの乱数に基づいて追跡をおこないます。この方法によって、https: プロトコルを介してアクセスされる静的な HTML ページでおこなわれるキャッシュの問題に対処します。

**nameSpace 変数**

nameSpace クエリ文字列パラメーターは、JavaScript を使用しない導入で必要になります。

例：ns=nameSpace

貴社の nameSpace 値を入手するには、アドビコンサルタントまたはアカウントマネージャーにご連絡ください。
