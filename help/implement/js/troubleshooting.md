---
title: JavaScript実装のトラブルシューティング
description: JavaScript実装のトラブルシューティングに関する一般的な問題とベストプラクティスについて説明します。
translation-type: tm+mt
source-git-commit: 8aa6932dcbb6dad88c27ba1cd4f5aad3bafcfc52

---


# JavaScript実装のトラブルシューティング

組織がAdobe Analyticsにデータを正しく取り込む際に問題が発生する理由は、次のとおりです。

## 引用符の使用

アドビに送信される変数のほとんどは文字列です。 JavaScriptでは、一重引用符または二重引用符を使用できます。

### 変数を定義する引用符の混合

ベストプラクティスとして、使用する見積もりのタイプと一致していることを確認します。 一重引用符で文字列の開始を指定する場合は、一重引用符を使用して文字列を閉じる必要があります。

例えば、との両方 `s.eVar1 = 'Value'` が有 `s.eVar1 = "Value"` 効です。 `s.eVar1 = 'Value"` が無効です.

### 文字列への一重引用符または二重引用符の含め方

文字列に一重引用符または二重引用符を含めることもできます。 例えば、値やレポートに値を含め `Alex's sale` ると `John the "Hunter"` します。 これらの値を含める方法は2つあります。

* **他の見積もりタイプを使用します**。例えば、とは `s.eVar1 = "Alex's sale"` 両方と `s.eVar1 = 'John the "Hunter"'` も有効です。
* **エスケープ引用符**:バックスラッシュを使用して引用符をエスケープします。 例えば、とは `s.eVar1 = 'Alex\'s sale'` 両方と `s.eVar1 = "John the \"Hunter\""` も有効です。

### 中括弧の使用は避ける

一部のプログラムでは、中立引用符(および`"..."` )が中 `'...'`括弧(および`“...”` )に自動的に変 `‘...’`換されます。 ドキュメントエディター（Microsoft wordなど）の使用や、コードスニペットの電子メール送信は避けてください。 中括弧はJavaScriptでは使用できません。

## Analyticsオブジェクトの参照

アドビに送信されるすべての変数は、Analyticsオブジェクトを使用します。 ほとんどの実装では、オブジェクトが使 `s` 用されます。 参照にAnalyticsオブジェクトを含む変数を参照する場合は、必ず変数を参照してください。

例えば、は有 `s.eVar1 = 'Value'` 効ですが、は無効 `eVar1 = 'Value'` です。

## 各変数を1回定義します。

追跡関数(`s.t()`)が実行されると、AppMeasurementは定義済みのすべての変数を取得し、それらをイメージリクエストにコンパイルします。 実装で変数を複数回定義した場合は、最新の値のみが使用されます。 track関数を実行する際は、すべての変数値に正しい値が含まれていることを確認してください。

## 変数の大文字/小文字の修正

一部の変数では大文字を使用します。 JavaScript変数では大文字と小文字が区別されます。 変数を定義する際は、必ず正しいケースを使用してください。 例えば、は有 `s.eVar1 = 'Value'` 効ですが、は無効 `s.evar1 = 'Value'` です。

## プラグイン

一部の組織では、Adobe Analyticsの実装を改善するためにプラグインを使用しています。 AppMeasurementバージョンをアップグレードする場合は、インストール済みのプラグインを必ず再び含めてください。 コードマネージャーで作 [!UICONTROL 成されたコード] には、そのコードに含まれるプラグインコードはありません。 AppMeasurementの以前のバージョンに戻す必要が生じた場合に備えて、既存のコードのコピーを作成します。

## 変数値の空白

HTML には、空白を作成するための文字が複数あります。これらには、スペース、タブ、およびキャリッジリターン（またはラインフィード）が含まれます。次の例をご覧ください。

```html
<head>
  <title>
    Home Page
  </title>
</head>
<body>
<script language="javascript">
  s.pageName = document.title;
</script>
</body>
```

In this case, `document.title` populates `s.pageName`, which receives a value of &quot;Home Page&quot;. ただし、一部のブラウザーでは、空白の解釈が異なる場合があります。 結果は、次の2つの例のいずれかになります。

```js
s.pageName = "Home Page";
```

```js
s.pageName = "        Home Page";
```

これらの2つの変数値は、Adobe Analyticsでは別々の値と見なされます。 ただし、空白は表示のために自動的に削除されます。 結果として、「ホームページ」の行項目が2つ表示されます。 変数値に、目的の値の前後に空白が含まれていないことを確認します。
