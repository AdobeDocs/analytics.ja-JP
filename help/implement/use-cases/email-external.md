---
title: 外部電子メールトラッキング
description: Adobe Analytics を使用して電子メールコンテンツを追跡します。
translation-type: ht
source-git-commit: 819f719c4ce131c04916f3b668bcbda1a1b03651
workflow-type: ht
source-wordcount: '736'
ht-degree: 100%

---


# 外部電子メールトラッキング

Analytics を使用して電子メールキャンペーンの成功を判定します。

[!DNL Analytics] は以下のようないくつかの主要指標を使用して電子メールキャンペーン分析データをレポートします。

| 指標 | 説明 |
|---|---|
| クリックスルー | 電子メールからランディングページへクリックスルーした回数を追跡して表示します。 |
| 購入、成功 | 電子メールから購入に至った回数を表示します。 |
| 注文件数 | 電子メールから発生した注文の件数を表示します。 |
| 利益 | 電子メールから発生した訪問あたりのドル金額を表示します。 |
| コンバージョン | 電子メールから発生したリード、登録またはその他の成功イベントの件数を表示します。 |

これらのような主要指標を取り込むには、HTML 電子メールの本文と JavaScript ライブラリに対する変更が必要です。

## 実装 {#section_8A42A8F4A6CD4A1BAF4B9F99F709AF7A}

電子メールキャンペーン分析データを正しく表示するには、いくつかの手順を実行する必要があります。この手順は以下のとおりです。

1. 一意のトラッキングコードを作成します。

   よく、ユーザーから個別のキャンペーンでのトラッキングの推奨事項が求められることがありますが、これは何が最適な動作であるかによって決まります。ユーザーによって何が最適であるかは異なります。以下の例のように、各ユーザーが読みやすいトラッキングコードを生成することをお勧めします。

   * sc_cid=A1123A321：「A」はアフィリエイトキャンペーンを示すフラグ
   * sc_cid=EM033007：「EM」は電子メールキャンペーンを示すフラグ
   * sc_cid=GG987123：「GG」は Google を意味する有料検索キャンペーン

   トラッキングコードの設定と使用について詳しくは、Adobe [!DNL Customer Care] にお問い合わせください。

1. HTML 電子メールリンクにクエリー文字列パラメーターを追加します。

   ユーザーのクリックスルーとその後の成功イベントを追跡するには、HTML 電子メール内の各リンクにクエリー文字列パラメーターを追加する必要があります。各リンクを個別に追跡するか、すべてのリンクをまとめて追跡するかを選択できます。各リンクに一意のトラッキングコードを設定することも、すべてのリンクに同じトラッキングコードを設定することもできます。電子メール内に、以下のような Web サイトへの仮のリンクがあるとします。

   ```js
   <a href="https://www.example.com/index.asp">Visit our home page</a>
   ```

   このリンクに、?sc_cid=112233B というクエリー文字列パラメーターを追加する必要があります。

   ```js
   <a href= "https://www.example.com/index.asp?sc_cid=112233B">Visit our home page</a>
   ```

1. JavaScript ライブラリを更新します。

   JavaScript ファイル（[!DNL s_code.js]）内のコードを変更すると、電子メールからクリックスルーし、以降の成功イベントに関係したユーザー数（およびユーザー情報）を取り込むことができます。JavaScript ライブラリの更新方法は以下の 2 つです。

   1. [!DNL s_code.js]getQueryParam[!UICONTROL  を呼び出して、] をカスタマイズします。

      [!DNL s_code.js] ファイルは、Web サーバー上の、各 Web ページからアクセス可能な場所に配置する必要があります。*`doPlugins`* 関数を変更し、電子メールリンク上のクエリー文字列パラメーターを取り込めるようにする必要があります。次に例を示します。

      ```js
      /* Plugin Config */ 
      s.usePlugins=true 
      function s_doPlugins(s) { 
       /* Add calls to plugins here */ 
       // External Campaigns 
      s.campaign=s.getQueryParam('source') 
      } 
      s.doPlugins=s_doPlugins 
      ```

      変数内にコピーする必要のあるクエリー文字列パラメーターのそれぞれで、[!UICONTROL getQueryParam] を 1 回呼び出す必要があります。この例では、クエリー文字列パラメーター [!UICONTROL sc_cid] が&#x200B;*`campaign`* にコピーされます。

      クリックスルーを取り込むには、[!UICONTROL getQueryParam] の最初の呼び出しのみが必要です。Adobe [!DNL Customer Care] にこの関数を導入するように依頼し、お使いのバージョンの JavaScript ファイルに [!UICONTROL getQueryParam] プラグインが含まれていることを確認してください。

   1. 貼り付けるコードの JavaScript タグがすべてのランディングページ上にあることを確認します。この貼り付けるコードは、手順 A で変更された [!DNL s_code.js] のバージョンを参照する必要があります。

      この JavaScript ライブラリを更新するときには、以下のポイントを意識することが重要です。以下にそのポイントを示します。

      * クエリー文字列パラメーター [!UICONTROL sc_cid] は、最終ランディングページ上の URL 内に表示されている必要があります。表示されていない場合、クリックスルーコンバージョンは記録されません。
      * [!UICONTROL sc_cid] パラメーターはクエリー文字列パラメーターの一例です。[!UICONTROL getQueryParam] プラグインを使用して、任意のクエリー文字列パラメーターを使用したり取り込んだりすることができます。それらのクエリー文字列パラメーターがキャンペーントラッキングにのみ使用されていることを確認してください。パラメーターがクエリー文字列内に出現するたびに、その値が&#x200B;*`campaign`* にコピーされます。

1. [!UICONTROL SAINT] を使用して、キャンペーントラッキングコードを分類します。

   [!UICONTROL SAINT キャンペーン管理ツール]は、トラッキングコードをユーザーにわかりやすい名前に変換するために使用できます。また、各電子メールキャンペーンの成功を集計するためにも使用できます。以下の手順 5 で、電子メールキャンペーンの設定に必要となるプロセスについて説明します。

1. 電子メールキャンペーンごとのパスを確認します（オプション）。

   電子メールキャンペーンごとのパス分析は、他のキャンペーンごとのパスと同様の方法で実行できます。以下の手順に示すように、変数を使用してキャンペーンごとのパスを表示できます。

   1. Adobe [!DNL Customer Care] に、[!UICONTROL カスタムインサイト]変数（prop）のパスを有効にするよう依頼します。

   1. すべてのページで、指定された [!DNL s.prop] にページ名をコピーします。
   1. 電子メールランディングページで、prop に電子メールキャンペーン名を追加します。この結果は以下のようになります。

      ```js
      s.prop1="Home Page : 123456"
      ```

      [!UICONTROL カスタムインサイト]変数に対してパスを有効にした場合、[!UICONTROL パス]レポート（[!UICONTROL 次ページのフロー]、[!UICONTROL フォールアウト]など）を使用して、ランディングページからの訪問者のナビゲーションを確認できます。

