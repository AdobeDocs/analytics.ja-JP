---
title: ハードコードされたイメージリクエストを使用した実装
description: HTML イメージタグを使用した Adobe Analytics の実装（ハードコードされたイメージリクエスト）
exl-id: 84247daf-c94b-456c-9824-6d4a0b3e6065
source-git-commit: a97043caa9b6d2dc24f52c599fd0caa9241af62f
workflow-type: ht
source-wordcount: '683'
ht-degree: 100%

---

# ハードコードされたイメージリクエストを使用した実装

アドビが提供する AppMeasurement ライブラリは、ページ上に存在する変数をコンパイルし、イメージリクエストとしてアドビに送信します。AppMeasurement ライブラリは、すべて手動でアドビにイメージリクエストを送信できます。この方法では、イメージリクエストとクエリー文字列を手動で作成する必要があります。

この実装方法は、外部ソースからの画像を表示する任意のプラットフォームで使用できます。JavaScript にはまったく依存しません。

>[!NOTE]
>
> ハードコードされたイメージリクエストは簡単に設定できますが、大規模なプロジェクトでは、デバッグ、保守および拡大が困難です。先に進む前に、ハードコードされたイメージリクエストが最適なオプションであることを確認してください。

## イメージリクエスト構文

次に、HTML を使用したハードコードされたイメージリクエストの例を示します。

```html
<img src="https://example.data.adobedc.net/b/ss/examplersid/1/s234234238479?AQB=1&g=http%3A%2F%2Fexample.com&pageName=Example%20hardcoded%20hit&v1=Example%20value&AQE=1"/>
```

* `https://` はプロトコルを指定します。イメージリクエストで使用されるプロトコルと、サイトの残りの部分で使用されるプロトコルとを一致させます。
* `example.data.adobedc.net` は、[`trackingServer`](/help/implement/vars/config-vars/trackingserver.md) 変数に含まれる値です。
* `/b/ss/` は、すべてのイメージリクエストに含まれます。これは、アドビのデータ収集サーバーに保存される画像のファイル構造の一部です。
* `examplersid` は、データの送信先のレポートスイート ID です。複数のレポートスイートの場合、ID をコンマで区切り、スペースは使用しません（`examplersid1,examplersid2` など）。
* `/1/` はヒットソースです。詳しくは、『エクスポートユーザーガイド』の [データ列の参照](../../export/analytics-data-feed/c-df-contents/datafeeds-reference.md) で `hit_source` を参照してください。訪問者を識別するために Cookie やその他の方法が使用する順序を制御します。
* `/s234234238479`（`"s"` + 乱数）は、ブラウザーによるイメージリクエストのキャッシュを防ぎます。
* クエリー文字列の区切り文字（`?`）の後にあるのはすべて、レポートに含めるデータです。イメージリクエストに含めることができるすべてのパラメーターのリストについては、 [データ収集クエリーパラメーター](../validate/query-parameters.md) を参照してください。

## Microsoft Outlook のハードコードされたイメージリクエスト

ほとんどの電子メールは HTML ベースなので、開かれた電子メールを追跡し、そのデータを Adobe Analytics に送信できます。組織でこの方法の使用を選択する場合は、次の点に注意してください。

* 電子メールのレンダリングごとに、課金対象のサーバー呼び出しを増やすことができます。
* HTML をサポートし、画像を許可している電子メールクライアントのみが追跡されます。Microsoft Outlook など、一部の電子メールクライアントは、外部イメージを既定でブロックします。これらの電子メールは、受信者が外部画像のダウンロードを選択するまで追跡されません。

イメージリクエストを含む Outlook 電子メールを作成するには、以下を実行します。

1. HTML エディターを開きます。HTML エディターが使用できない場合は、プレーンテキストエディターも機能します。
2. 新しい HTML ファイルで、タグに含まれたハードコードされたイメージリクエスト `<img>` タグを挿入し `<body>` タブでラップします。
3. HTML ファイルを保存します。
4. Microsoft Outlook を開き、電子メールを作成します。
5. 「挿入」タブに移動し、「**ファイルを添付**」をクリックします。イメージリクエスト HTML ファイルを選択します。
6. 「挿入」の横のポップアップメニューをクリックし、「**テキストとして挿入**」を選択します。ポップアップメニューを表示せずに「挿入」ボタンをクリックすると、HTML ファイルが添付ファイルになり、機能しなくなります。

イメージリクエストは 1x1 の透過ピクセルなので、電子メールは変更されないように見えます。テスト用にイメージリクエストを表示する場合は、HTML ファイルを変更して、境界線、追加のテキスト、その他のコンテンツを含めます。

## FAQ

ハードコードされたイメージリクエストを使用する一般的な質問について説明します。

### クエリー文字列パラメーターでは大文字と小文字が区別されますか。

はい。クエリー文字列パラメーターが完全に一致していることを確認してください。一致していない場合は記録されません。例えば、`pagename` は有効なクエリー文字列パラメーターではありませんが、`pageName` は有効です。

### クエリー文字列にスペースを含めることはできますか。

各クエリー文字列パラメーターの値は、URL エンコードする必要があります。URL エンコードは、通常 URL で不正な文字を正しい文字に変換します。例えば、スペース文字は `%20` に変換されます。英数字以外の文字が URL エンコードされていることを確認します。イメージリクエストがデータ収集サーバーに到達すると、アドビは自動的に値を URL デコードします。

URL エンコーディングの仕組みについて詳しくは、W3Schools の [HTML URL Encoding Reference](https://www.w3schools.com/tags/ref_urlencode.asp) を参照してください。

### 1 つの値に指定できる最大文字数は何文字ですか。

最大文字数は変数によって異なります。ほとんどのトラフィック変数は最大 100 バイトを保持し、ほとんどのコンバージョン変数は最大 255 バイトを保持します。イメージリクエストがデータ収集サーバーに到達すると、アドビはこれらの値を自動的に最大長に切り詰めます。
