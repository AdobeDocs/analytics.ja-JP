---
description: Report Builder配信を最適化する方法と、発生する可能性のあるエラーメッセージのリストについて説明します。
title: Report Builder のトラブルシューティングとベストプラクティス
uuid: 36a08143-dc78-40f5-9ce9-7d16980aa27b
feature: Report Builder
role: User, Admin
exl-id: 41a640ce-2316-439b-b3ba-f0bace9af268
source-git-commit: ca84a5f807545d7196e2e0e90d3209c32d3fd789
workflow-type: tm+mt
source-wordcount: '1424'
ht-degree: 54%

---

# Report Builder のトラブルシューティングとベストプラクティス

{{legacy-arb}}

この記事では、Report Builderを最適化するために使用できるトラブルシューティングとベストプラクティスについて説明します。 また、表示される可能性のあるエラーメッセージのリストも含まれます。

## Report Builder 5.0 のユーザーと 5.1 ワークブックの表示 {#section_C29898775999453FABB5FB0E098415C8}

Adobeで、寸法と分類の区切り文字をアンダースコア文字（_）から ||。 この変更は、分類リクエストを含むReport Builder v5.1 ワークブックを開くReport Builder 5.0 ユーザーに互換性への影響があります。 v5.1 より古いバージョンのワークブックを開くたびに、シリアル化されたすべての分類リクエストがこの形式に変換されます。

v5.1 に変換したワークブックをReport Builder v5.0 で共有すると、そのユーザーは分類リクエストを認識できなくなります（実際には、「_」ですが、v5.1 のシリアル化された「||」が検索されます）。

ARB v5.1 ワークブックを分類のリクエストで開くときには、次のような不具合が発生します。

* ワークブックを開くと、次の警告が表示されます。「このワークブックは、Report Builder バージョン 5.1 を使って最後に保存されています。このバージョンには、このコンピューターにインストールされているバージョンの Report Builder と互換性のない機能が含まれています。このワークブックを更新する前に、Report Builder の最新バージョンにアップグレードすることを強くお勧めします。」
* 分類を含む ARB リクエストを右クリックすると、Report Builder コンテキストメニュー（リクエストを編集、依存リクエストを追加など）が表示されません。
* 「すべて更新」を実行するか、3 番目のボタンをクリックするか、リクエストマネージャーフォームから一連のリクエストを更新すると、分類リクエストはエラーなしで実行されます。 ただし、分類の値は書き出されません。
* リクエストマネージャーを開き、適切なリクエストに到達するまで行から行へと移動することで、リクエストを編集できます。
* リクエストを編集し、すべてのパラメーターを同じにしておいて「完了」をクリックすると、応答が適切に書き出されます。 実際、応答レイアウトパラメーターが再シリアル化されるので、リクエストを編集すると問題が解決します。 したがって、時間がかかりますが、回避策があります。

## Report Builder の認証の問題 {#section_FD79104DF1414FE2B36591606C963DE6}

Report Builder では、レポートスイートからデータリクエストを作成する場合、認証が必要になります。[!DNL Analytics] 内の設定やネットワークによっては、Report Builderにログインする際に問題が発生することがあります。

* **無効なログイン会社**：このエラーは通常、ログイン会社が正しく入力されていないか、ネットワークアクティビティに問題がある場合に発生します。 次の手順を実行します。
   * ログイン会社のスペルをチェックして、入力ミスや間違ったスペースがないことを確認します。
   * 同じログイン会社名を使用して Analytics にログインし、ログイン会社名が正しいことを確認する。これらの資格情報を使用してログインできない場合は、組織の管理者に正しいログイン会社名について問い合わせてください。
* **ファイアウォール**:Report Builderはポート 80 と 443 を使用します。 これらのポートが組織のファイアウォールを通過できることを確認します。 その他のファイアウォールの除外については、Adobeの内部 IP アドレスも参照してください。

## リクエストの最適化に関するレコメンデーション {#section_33EF919255BF46CD97105D8ACB43573F}

次の要因によって、リクエストがより複雑になり処理が遅くなる場合があります。

* **配信の速度を低下させる可能性がある要因**：数時間の間にスケジュールされたブックマーク、ダッシュボード、Report Builder が多すぎます。ほぼ同じ時間に、スケジュールされた Report Builder ワークブックが多すぎることも考えられます。この場合、レポート API キューはバックログされます。
* **ワークブックのランタイムを低下させる可能性がある要因**：分類が大幅に増加したか、リクエストの日付範囲が経時的に増加しました。
* **ワークブックの配信に失敗する原因**：ワークブック内の Excel 式が複雑です（特に日付と時間を含む式）。
* **0 （値なし）を返すセル**:Excel のシート名にアポストロフィまたは一重引用符があると、Report Builderは値を返しません。 （これは Microsoft Excel の制限です。）
* **個々のリクエストのパフォーマンス**：処理速度は、次の設定の影響を受ける場合があります。

  | 設定 | より高速なパフォーマンス | パフォーマンスの低下 |
  |--- |--- |--- |
  | 分類と分類順序 | 少ない | 多数 |
  |  | 例：A を Z で分類する場合、A の項目数は常に Z の項目数より少なくする必要があります。逆の場合はリクエスト時間が大幅に増加します。 |  |
  | 日付範囲 | Small range | 広い範囲 |
  | フィルター | 具体的なフィルター | 最頻使用フィルター |
  | 精度 | 集計 | 1 時間ごと<ul><li>毎日</li><li>毎週</li><li>毎月</li><li>毎四半期</li><li>毎年</li></ul> |
  | エントリ数 | 小さいデータセット | 大きなデータセット |

* **スケジューリング時間**：24 時間にわたり、スケジュールを分散させます（以下の表を参照）。既存のブックマーク、ダッシュボードおよび Report Builder ワークブックを共に近い時間にスケジュール設定すると、遅延が発生する場合があります。より大きく複雑なリクエストを早朝にスケジュールして、営業日に手動でプルと更新を行えるようにします。

  | スケジュール時間 | 午前 1～午前 2 時。 | 午前 2～午前 7 時。 | 午前 7～午後 6 時。 | 午後 6～午前 0 時 |
  |--- |--- |--- |--- |--- |
  | Report Builderの使用 | Quiet | 非常に忙しい | クライアントサイドの使用。<br>多くのユーザーが、ローカルからの更新や「すぐに送信」のリクエストを行います。<br>追加事項として、スケジュールされたワークブックがタイムアウトしたときに API キューがクリアされるかを検証します。 | 忙しくない |

* **タイムアウト**：すべての予定レポートは、4 時間後にタイムアウトします。 システムは、さらに 3 回スケジュールを試みます。その結果、障害が発生する可能性があります。 （一般に、データセットが大きいほど、実行に時間がかかります）。 これらは、レポートとReport Builder[!DNL Analytics] 表示されます。

## サンプルエラーメッセージの説明 {#section_3DF3A1EEDAD149CB941BEABEF948A4A5}

ここでは、Report Builderの使用時に表示される可能性のあるエラーメッセージのサンプルリストについて説明します。

>[!NOTE]
>
>これはエラーメッセージのサンプルであり、すべてを網羅したリストではありません。 エラーの解決法について詳しくは、管理者にお問い合わせください。

* **この機能は開いているワークブックでのみ適用できます。**: Excel でワークブック（スプレッドシート文書）が開かれていない状態で、Report Builderのツールバーのアイコンのいずれかをクリックすると、このメッセージが表示されます。 また、スプレッドシートを開くまで、ツールバーは無効になります。 ただし、ツールバーが有効になっている間にオンラインヘルプアイコンをクリックしても、このエラーは発生しません。
* **[!UICONTROL リクエストウィザード]を終了してから[!UICONTROL リクエストマネージャー]を起動する必要があります。**：[!UICONTROL リクエストマネージャー]と[!UICONTROL リクエストウィザード]は機能的に関連があるので、[!UICONTROL リクエストウィザード]内での作業を完了するかキャンセルするまでは、[!UICONTROL リクエストマネージャー]での作業を開始することはできません。
* **この範囲に関連付けられているリクエストはありません。**：スプレッドシートのセルにリクエストが含まれていないときに[!UICONTROL リクエストマネージャー]の「[!UICONTROL シートから取得]」ボタンをクリックすると、このエラーメッセージが表示されます。スプレッドシートのどのセルにリクエストが含まれているかを識別するには、[!UICONTROL &#x200B; リクエストマネージャー &#x200B;] のテーブルにリストされている個々のリクエストをクリックします。 リクエストがセルと関連付けられている場合、そのセルが強調表示されます。
* **選択されている範囲が無効です。別の範囲を選択してください。**：スプレッドシートのセルが選択されていて、既にマッピングされているリクエストがある場合に、このエラーが発生します。セルにマッピングされているリクエストを削除するか、別のセルの範囲を選択してマッピングしてください。セルを削除したい場合は、リクエストを含むセルを選択して、リクエストを削除してからセルを削除する（行または列を削除する）ことが重要です。
* **この機能を使用する前に Excel のセルの編集を終了してください。**：Excel のセルが&#x200B;*編集モード*&#x200B;の場合に Report Builder のいずれかのアイコンをクリックすると、このエラーメッセージが表示されます。Excel のセルの編集モードとは、セルが選択され、カーソルがセル内部に表示されている状態です。また、Excel の上部にある [!UICONTROL &#x200B; 数式 &#x200B;] バーまたは [!UICONTROL &#x200B; 名前ボックス &#x200B;] に直接入力すると、Excel のセルが編集モードになります。
* **選択した範囲は別のリクエストの範囲と交差します。選択を変更してください。**：一連のセルをスプレッドシートに既にマッピングしている場合に、このエラーが表示されます。
* **ワークブックの修復（削除されたレコード：/xl/calcChain.xml の部分の式）**：保存時や転送時に、ワークブックの式が破損する場合があります。ファイルを開くと、Excel はこれらの式を実行しようと試みて失敗します。 この問題を解決するには、スプレッドシートから `calcChain.xml` を削除し、Excel で式の計算を更新する必要があります。
   1. ワークブックのファイル拡張子を `.xlsx` から `.zip` に変更します。
   2. 内容を解凍し、`/xl/` フォルダーを開きます。
   3. 削除 `calcChain.xml`.
   4. 内容を再圧縮し、ファイル拡張子を `.xlsx` に戻します。
   5. Excel でワークブックを開き、すべての Report Builder リクエストを更新します。
* **入力フィルターまたは出力範囲に関連付けられている Excel セルが削除された可能性がある**：Report Builder では、Excel 名を使用して、データリクエストをセルにアタッチしますNames Manager から Excel 名を削除すると、このエラーが表示されます。 Excel 名を削除すると、リクエストを復元できなくなります。 ワークブックがスケジュールされている場合は、スケジュールマネージャからコピーをダウンロードするか、以前に配信されたワークブックのコピーを開くことができます。
