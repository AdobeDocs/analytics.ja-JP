---
description: Analysis Workspaceでフリーフォームテーブルをフィルタリングおよび並べ替える方法について説明します。
title: フィルターと並べ替え
feature: Freeform Tables
role: User, Admin
exl-id: 15fea9e2-f8d8-4489-9a44-e74a351b8f36
source-git-commit: e288365f2c984b64ae8c16ce023a7a0357a0e2b7
workflow-type: tm+mt
source-wordcount: '1577'
ht-degree: 50%

---

# フリーフォームテーブルのフィルタリングと並べ替え

Analysis Workspace のフリーフォームテーブルは、インタラクティブなデータ分析の基盤となります。そのため、何千行もの情報を含めることができます。データのフィルタリングと並べ替えは、最も重要な情報を効率的に表示するための重要な要素になる可能性があります。

## テーブルのフィルタリング

Analysis Workspace のフィルターは、最も重要な情報を表示するのに役立ちます。

>[!NOTE]
>
> この節で説明するように、フィルタリングできるのは動的ディメンション項目のみです。静的ディメンション項目はフィルタリングできません。詳しくは、[フリーフォームテーブルの動的ディメンション項目と静的ディメンション項目](/help/analyze/analysis-workspace/visualizations/freeform-table/column-row-settings/manual-vs-dynamic-rows.md)を参照してください。

フリーフォームテーブルから行をフィルタリングするには、いくつかの方法を使用できます。

* テーブルから特定の行を除外
* テーブルにフィルターを適用
* セグメントフィルターの使用

各方法が与える影響について詳しくは、[フリーフォームテーブルの合計](/help/analyze/analysis-workspace/visualizations/freeform-table/workspace-totals.md)を参照してください。

### テーブルから特定の行を除外

![フィルター](/help/assets/icons/Filter.svg) **[!UICONTROL フィルター]**&#x200B;を使用しなくても、テーブルから特定の行をすばやく除外できます。

>[!NOTE]
>
>この節の説明に従って行を除外する際、[!UICONTROL 詳細]フィルターダイアログに[!UICONTROL 常に項目を除外]ルールが自動的に追加されます。![フィルター](/help/assets/icons/Filter.svg) フィルターアイコン、「[**[!UICONTROL 詳細を表示]**](#apply-a-simple-or-advanced-filter-to-a-table)」の順に選択すると、適用されたルールを表示できます。

フリーフォームテーブルから特定の行を除外するには：

1. 除外する行にポインタを合わせて、![閉じる](/help/assets/icons/Close.svg) を選択します。

   ***Shift*** キーを押しながら行の範囲を選択するか、***Cmd*** キー（Mac の場合）または ***Ctrl*** キー（Windows の場合）を押したまま複数の行を選択します。

<!--### Right-click > Delete selected rows

Note: this option does not seem to work. AN-338422

1. Select 1 or more rows. 
1. Right-click and select **[!UICONTROL Delete Selected Rows]**. 

   This action will remove the rows from the table and apply a table filter.-->


### テーブルへのシンプルなフィルターまたは高度なフィルターの適用

フリーフォームテーブルでデータをフィルタリングするには：

1. フィルタリング対象のデータを含んだ列の上にポインタを合わせます。<!--only some types of columns show the filter... Which? Just Dimensions?-->

1. ![フィルター](/help/assets/icons/Filter.svg) **フィルター**&#x200B;が表示されたら選択します。

   ![フィルターアイコンをハイライト表示するフリーフォームテーブル。](assets/table-filter-icon.png)

   **[!UICONTROL 検索]**&#x200B;ダイアログでは、次のオプションを使用できます。

   ![シンプルなフィルター](assets/filter-simple.png){width="500"}

   | オプション | 関数 |
   |---------|----------|
   | [!UICONTROL **「値なし」を含める**] | このオプションを選択すると、選択したディメンションに値がないデータに対して、テーブルに&#x200B;**[!UICONTROL 値なし]**&#x200B;の行が表示されます。このオプションを選択解除すると、**[!UICONTROL 値なし]**&#x200B;の行が非表示になります。 |
   | [!UICONTROL **検索語句**] | フィルタリングに使用する単語または語句を指定します。 指定した単語または指定したとおりの語句を含んだ行のみが表示されます。 |


1. （オプション）異なる条件または複数の条件でフィルタリングする場合は、「[!UICONTROL **詳細を表示**]」を選択します。

   次の高度なフィルターオプションを使用できます。

   ![シンプルなフィルター](assets/filter-advanced.png){width=500}

   | オプション | 関数 |
   |---------|----------|
   | [!UICONTROL **「値なし」を含める**] | このオプションを選択すると、選択したディメンションに値がないデータに対して、テーブルに&#x200B;**[!UICONTROL 値なし]**&#x200B;の行が表示されます。このオプションを選択解除すると、**[!UICONTROL 値なし]**&#x200B;の行が非表示になります。 |
   | [!UICONTROL **次に一致**] | 指定したすべての条件を満たすデータのみを表示するには、「[!UICONTROL **すべての条件を満たしている場合**]」を選択します。通常、このオプションを使用すると、データの精度が上がります。<br/><br/>指定したいずれかのフィルター条件を満たすデータを表示するには、「[!UICONTROL **いずれかの条件を満たしている場合**]」を選択します。通常、このオプションを選択すると、データの精度が下がります。 |
   | [!UICONTROL **条件**] | 次のフィルターオプションから選択します。<br/><ul><li>[!UICONTROL **語句を含む**]（デフォルト）：指定したとおりの語句を含んだデータのみが、フィルタリング結果に含まれます。単語は、「[!UICONTROL **検索語句**]」フィールドで指定した順序になっている必要があります。</li><li>[!UICONTROL **いずれかの用語を含む**]：指定した語句の 1 つ以上の単語を含んだデータのみが、フィルタリング結果に含まれます。 </li><li>[!UICONTROL **すべての用語を含む**]：指定した語句のすべての単語を含んだデータのみが、フィルタリング結果に含まれます。単語は、「[!UICONTROL **検索語句**]」フィールドで指定した順序である必要はありません。</li><li>[!UICONTROL **いずれの用語も含まない**]：指定した語句の単語をまったく含まないデータのみが、フィルタリング結果に含まれます。 </li><li>[!UICONTROL **語句を含まない**]：指定したとおりの語句を含まないデータのみが、フィルタリング結果に含まれます。単語は、「[!UICONTROL **検索語句**]」フィールドで指定した順序になっている必要があります。</li><li>[!UICONTROL **次に等しい**]：指定した語句と完全に一致するデータのみが、フィルタリング結果に含まれます。 </li><li>[!UICONTROL **次に等しくない**]：指定した語句と完全には一致しないデータのみが、フィルタリング結果に含まれます。 </li><li>[!UICONTROL **次で始まる**]：指定した単語または指定したとおりの語句で始まるデータのみが、フィルタリング結果に含まれます。 </li><li>[!UICONTROL **次で終わる**]：指定した単語または指定したとおりの語句で終わるデータのみが、フィルタリング結果に含まれます。 </li></ul>複数のフィルター条件を追加するには、![追加](/help/assets/icons/Add.svg)「[!UICONTROL **行を追加**]」を選択します。「[!UICONTROL **次に一致**]」で選択するオプションによって、**[!UICONTROL すべての条件を満たしている場合]**&#x200B;または&#x200B;**[!UICONTROL いずれかの条件を満たしている場合]**&#x200B;が決まります。 |
   | [!UICONTROL **常に項目を除外**] | フィルタリングされたデータから除外する項目の名前を指定します。 |

1. 「**[!UICONTROL 適用]**」を選択して、データをフィルタリングします。すべての入力を消去するには、「**[!UICONTROL 消去]**」を選択します。キャンセルしてダイアログを閉じるには、「**[!UICONTROL キャンセル]**」を選択します。<br/>色付きの ![フィルター](/help/assets/icons/FilterColored.svg) **フィルター**&#x200B;アイコンは、フィルターがテーブルに適用される際の詳細を示し、表示します。

### スパークラインおよび線のビジュアライゼーションのトレンドデータにフィルター条件を含める {#include-filter-criteria}

フリーフォームテーブルのテーブルディメンションに適用される検索フィルター条件は、常にスパークラインに含まれます。

スパークラインに加えて、接続線のビジュアライゼーションに含めるフィルター条件を設定できます。 （デフォルトでは、フィルター条件は折れ線グラフのビジュアライゼーションに含まれていません。 折れ線グラフビジュアライゼーションには、接続されたテーブルで選択された行のデータが表示されます。 行が選択されていない場合、接続されたテーブルの最初のディメンションのデータのみが表示されます）。

スパークラインと折れ線グラフのビジュアライゼーションについて詳しくは、[ フリーフォームテーブルのトレンドデータの表示 ](/help/analyze/analysis-workspace/visualizations/freeform-table/freeform-table-trended-data.md) を参照してください。

#### フィルター条件を含む折れ線グラフのビジュアライゼーションの設定

1. 指標列ヘッダーのスパークラインを選択します。

   スパークライン セルを選択すると、濃い灰色で表示されます。 これは、接続線のビジュアライゼーションにフィルター条件が含まれていることを示します。 フィルター条件は、列のセグメントとして適用されます。<!--show how to see it? Show what the segment looks like when it's applied? -->

   ![ スパークラインを選択 ](assets/table-sparkline-selected.png)

#### 列の合計が不正確な可能性がある場合について

次のシナリオでは、列の合計が正確でない可能性があります。

* 左側の列と [ 列の合計は行の合計として計算される ](/help/analyze/analysis-workspace/visualizations/freeform-table/column-row-settings/table-settings.md) で静的コンポーネントが使用される場合

  このシナリオでは、行アイテムに重複するデータが含まれていると、列の合計が不正確になります。

  例えば、静的セグメントを左の列に追加し、ユーザーを右の列の指標として追加した場合、それらのユーザーの一部が複数の静的セグメントの一部になる可能性があります。 この場合、Workspaceでは、静的セグメントごとにユーザーの重複が排除されることはありません。 これにより、一部のユーザーが複数回カウントされる可能性があるので、合計ユーザー数が多くなる可能性があります。

* 複数値のディメンションを使用する場合

>[!NOTE]
>
>スパークラインと折れ線グラフには、引き続き、これらのシナリオで正確な合計が反映されます。


## テーブルの並べ替え

Analysis Workspaceでは、次の種類の列でフリーフォームテーブルのデータを並べ替えることができます。

* 任意の指標列

* 任意のディメンション列（文字列ベースのディメンションを除く）

複数の列で同時に並べ替えることもできます。

デフォルトでは、ディメンションは昇順で並べ替えられ、指標は降順で並べ替えられます。

## 1 つの列でテーブルを並べ替え

この節で説明するように 1 列のデータを並べ替えると、テーブルに適用されている [ 詳細な並べ替え ](#sort-tables-by-multiple-columns-advanced-sorting) は削除されます。

テーブルのデータを 1 つの列で並べ替えるには：

1. 並べ替える列のヘッダーにマウスを移動し、表示された **並べ替え** アイコン ![ 並べ替え ](/help/assets/icons/SortOrderDown.svg) を選択します。

   ![ 並べ替えドロップダウンメニュー ](assets/sort-dropdown-menu.png)

1. **[!UICONTROL 昇順]** または **[!UICONTROL 降順]** を選択します。

   並べ替えが列に適用されている場合、並べ替えアイコンは表示されたままになります。 矢印は、データの並べ替え方法（昇順の場合は ![ 並べ替え ](/help/assets/icons/SortOrderUp.svg)、降順の場合は ![ 並べ替え ](/help/assets/icons/SortOrderDown.svg)）を示します。

## 複数の列でテーブルを並べ替える（詳細な並べ替え）

{{release-limited-testing-section}}

### 複数の列への並べ替えの適用

テーブルのデータを複数の列で並べ替えるには：

1. 並べ替える列のヘッダーにマウスを移動し、表示された **並べ替え** アイコン ![ 並べ替え ](/help/assets/icons/SortOrderDown.svg) を選択します。

   ![ 並べ替えドロップダウンメニュー ](assets/sort-dropdown-menu.png)

1. **[!UICONTROL 詳細な並べ替え]** を選択します。

   ![ 詳細な並べ替えダイアログ ](assets/sort-advanced-dialog.png)

1. 詳細な並べ替えダイアログで、次のいずれかの操作を行います。

   * 「**[!UICONTROL 並べ替え列を追加]** ボタンを選択して、まだ並べ替えられていない列を追加します。

   * **削除** アイコン ![ 削除 ](/help/assets/icons/Close.svg) を選択して、ソートする必要がなくなった列を削除します。

   * リスト内の列を上下にドラッグして、並べ替えの優先度を調整します。

     詳細については、「[ 優先度を並べ替える ](#sort-priority)」を参照してください。

   * ドロップダウンメニューで **[!UICONTROL 昇順]** または **[!UICONTROL 降順]** を選択して、並べ替え値を変更します。

   * 列名ドロップダウンメニューを選択して、別の列を選択します。

1. 「**[!UICONTROL 適用]**」を選択します。

並べ替えが列に適用されている場合、並べ替えアイコンは表示されたままになります。 矢印は、データの並べ替え方法（昇順の場合は ![ 並べ替え ](/help/assets/icons/SortOrderUp.svg)、降順の場合は ![ 並べ替え ](/help/assets/icons/SortOrderDown.svg)）を示します。

![ マルチソートの例 ](assets/dimensions-multiple-sort.png)

### 並べ替えの優先度

複数の列のデータを並べ替える場合、各列に割り当てた優先度に従ってデータが並べ替えられます。 優先度番号は、ソートアイコン ![ ソート優先度アイコン ](assets/sort-priority-icon.png) の横に表示されます。

プライマリの優先順位の列は主な順序を決定し、セカンダリの優先順位の列は行が 1 次の列に同じ値を持つ場合の順序を決定し、3 次の優先順位の列は 1 次と 2 次の列に同じ値を持つ場合の順序を決定します。

例えば、次の列を持つテーブルについて考えてみます。

* 日（ディメンション）

* ページビュー数（指標）

* 訪問回数（指標）

* コンテンツベロシティ（指標）

次のように、各列に並べ替え優先度を割り当てることができます。

| 列（コンポーネント）名 | コンポーネントの種類 | 並べ替えの優先度 |
|---------|----------|---------|
| 日 | ディメンション | 1 |
| ページビュー数 | 指標 | 2 |
| 訪問回数 | 指標 | 3 |
| コンテンツベロシティ | 指標 | 4 |

各列に並べ替えの優先度を割り当てることで、テーブルでのデータの表示方法を正確に制御できます。 この例では、情報を日、ページビュー、訪問回数、最後にコンテンツベロシティで並べ替えています。

![ マルチソートの例 ](assets/dimensions-multiple-sort.png)
