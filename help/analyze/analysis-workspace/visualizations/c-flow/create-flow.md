---
description: ワークスペースプロジェクトでフロービジュアライゼーションを使用します。
title: フロービジュアライゼーションの設定
feature: Visualizations
role: User, Admin
exl-id: c2fdcc96-81ac-4d3b-b255-ff805b6ff0ea
source-git-commit: ec466d2a503278b05d19eda09e2a2244897ce1f3
workflow-type: tm+mt
source-wordcount: '1417'
ht-degree: 100%

---

# フロービジュアライゼーションの設定

フロービジュアライゼーションを使用すると、Web サイトやアプリ上の特定のコンバージョンイベントに由来する、またはそれに至るジャーニーを把握できます。ディメンション（およびディメンション項目）または指標を通過するパスをトレースします。

フロービジュアライゼーションでは、目的のパスの開始または終了を設定したり、ディメンションまたはディメンション項目を流れるすべてのパスを分析したりできます。

![新しいフロー UI](assets/new-flow.png)

## フロービジュアライゼーションの作成 {#configure}

1. プロジェクトに空のパネルを追加し、左側のパネルのビジュアライゼーションアイコンをクリックします。

   または

   [ビジュアライゼーションの概要](/help/analyze/analysis-workspace/visualizations/freeform-analysis-visualizations.md)の「パネルへのビジュアライゼーションの追加」セクションで説明されているいずれかの方法で、ビジュアライゼーションを追加します。

1. 次のオプションのいずれかを使用して、フロービジュアライゼーションを固定します。

   * [!UICONTROL **次で始まる**]（指標、ディメンション、または項目）、
   * [!UICONTROL **次を含む**]（ディメンション、または項目）、
   * [!UICONTROL **次で終わる**]（指標、ディメンションまたは項目）

   これらの各カテゴリは、画面上に「ドロップゾーン」として表示されます。ドロップゾーンは、次の 3 つの方法で設定できます。

   * ドロップダウンメニューを使用して、指標またはディメンションを選択する。
   * ディメンションまたは指標を左側のパネルからドラッグします。
   * ディメンションまたは指標の名前を入力し始め、ドロップダウンリストに表示されたら選択します。

   >[!IMPORTANT]
   >
   >計算指標を「**[!UICONTROL 次で始まる]**」または「**[!UICONTROL 次で終わる]**」フィールドで使用することはできません。

1. 指標を選択する場合は、次に示すように、使用する&#x200B;[!UICONTROL **パスディメンション**]&#x200B;を提供し、そのパスディメンションを、選択したコンポーネントへのパスまたは選択したコンポーネントからのパスとして使用する必要があります。デフォルトは「[!UICONTROL **ページ**]」です。

   ![パスディメンション](assets/pathing-dim.png)

1. （オプション）「**[!UICONTROL 詳細設定を表示]**」を選択して、次のいずれかのオプションを設定します。

   ![詳細設定](assets/adv-settings.png)

   | 設定 | 説明 |
   | --- | --- |
   | **[!UICONTROL ラベルの折り返し]** | 通常、フロー要素のラベルは、画面の領域を節約するために切り捨てられます。しかし、このチェックボックスをオンにすることで完全なラベルを表示できます（デフォルト = オフ）。 |
   | **[!UICONTROL 繰り返しインスタンスを含める]** | フロービジュアライゼーションは、ディメンションのインスタンスに基づいています。この設定により、ページのリロードなど、繰り返し発生するインスタンスを含めるか除外するかを選択できます。ただし、listVar、listProp、s.product、マーチャンダイジング eVar など複数の値を持つディメンションを含むフロービジュアライゼーションから、繰り返しを削除することはできません。 <p>このオプションはデフォルトでは無効です。</p> |
   | **[!UICONTROL 最初／最後の発生件数に制限]** | パスを、ディメンション／項目／指標の、最初／最後の出現で始まる／終わるパスに制限します。詳しくは、以下の節、[「最初／最後の発生に制限」のシナリオの例](#example-scenario-for-limit-to-firstlast-occurrence)を参照してください。 |
   | **[!UICONTROL 列の数]** | フロー図で必要な列数最大 5 列まで指定できます。 |
   | **[!UICONTROL 列ごとに展開される項目数]** | 各列に必要な項目数1 列につき最大 10 個の展開項目を指定できます。 |
   | **[!UICONTROL フローコンテナ]** | <ul><li>訪問</li><li>訪問者。</li></ul> 「訪問」と「訪問者」を切り替えて、訪問者のパスを分析できます。これらの設定により、訪問者のエンゲージメントを（訪問全体にわたって）訪問者レベルで分析したり、1 回の訪問に分析を制限したりできます。 |

   >[!IMPORTANT]
   >
   >**[!UICONTROL 列数]**&#x200B;と&#x200B;**[!UICONTROL 列ごとに展開される項目数]**&#x200B;の組み合わせにより、フロービジュアライゼーションの作成に必要な基になるリクエストの数を決定します。これらの数が多いほど、ビジュアライゼーションのレンダリングに時間がかかります。

1. 「**[!UICONTROL 作成]**」を選択します。

>[!INFO]
>
>**例：**&#x200B;ユーザーがサイト上で最も人気のあるページに出入りするパスをトレースするとします。
>
>それには、次の方法を使用できます。
> 
>1. 前述のように、フロービジュアライゼーションの作成を開始します。
>1. [!UICONTROL **ページ**]&#x200B;ディメンションを&#x200B;**[!UICONTROL 次を含む]**&#x200B;フィールドにドラッグし、[!UICONTROL **作成**]&#x200B;を選択します。
>1. フロービジュアライゼーションは、ビジュアライゼーションの中央にあるフォーカスノードに最も多く閲覧されたページで構築されます。また、そのページにつながるトップページ（フォーカスノードの左側）と、そのフォーカスページからつながるトップページ（フォーカスノードの右側）も表示されます。
>1. フロー内のデータを分析します。詳しくは、[フロー出力の表示と変更](#view-and-change-the-flow-output)を参照してください。


## フロー出力の表示と変更 {#output}

![フロー出力](assets/flow-output.png)

図の上部に、フロー設定の概要が表示されます。ダイアグラム内のパスの太さは、そのアクティビティに比例します。アクティビティの多いパスは、アクティビティの少ないパスよりも太く表示されます。

データをさらに詳しく調べるには、次の複数のオプションがあります。

* フロー図はインタラクティブです。図にマウスポインターを置いて、表示する詳細情報を変更します。

* 図のノードを選択すると、そのノードの詳細が表示されます。折りたたむには、もう一度ノードを選択します。

  ![node-details](assets/node-details.png)

* 列にフィルターを適用して、包含と除外、条件の指定など、特定の結果のみを表示できます。

* 左側のプラス記号（+）を選択して、列を展開します。

* 出力をさらにカスタマイズするには、次に説明する右クリックのオプションを使用します。

* 設定概要の横にある鉛筆アイコンを選択して、フローをさらに編集するか、別のオプションを使用して再構築します。

* さらに、**[!UICONTROL プロジェクト]**／**[!UICONTROL CSV をダウンロード]**&#x200B;に移動して、プロジェクトの .CSV ファイルの一部としてフロー図を書き出し、分析することもできます。

## フィルター

各列の上にマウスポインターを置くと、フィルターが表示されます。このフィルターを選択すると、現在、フリーフォームテーブルに存在するのと同じフィルターダイアログが表示されます。このフィルターは、フリーフォームテーブルの場合と同じように機能します。

* 詳細設定を使用して、演算子のリストに特定の条件を含めたり、除外したりすることができます。
* リストから項目をフィルタリングすると、その特定の列にフィルタリングが反映されます（このフィルターは、フィルターで許可された項目のみを表示するように縮小するか、フィルターに求める 1 項目以外のすべての項目を削除します）。
* 残りのノードへのデータフローがある限り、すべてのダウンストリームおよびアップストリームの列は、維持されます。
* 適用すると、フィルタリングしている列の上にフィルターアイコンが青色で表示されます。
* フィルターを削除するには、フィルターアイコンを選択して、フィルターメニューを開きます。適用されたフィルターを削除してから、「**[!UICONTROL 保存]**」をクリックします。フローは、フィルタリングされていない、以前の状態に戻ります。

## 右クリックのオプション {#right-click}

| オプション | 説明 |
|--- |--- |
| [!UICONTROL やり直し] | 新しいフロー図を作成できる、フリーフォーム図ビルダーに戻ります。 |
| [!UICONTROL このパスのセグメントを作成] | セグメントを作成します。新しいセグメントを設定できる、セグメントビルダーに移動します。 |
| [!UICONTROL 分類] | 利用可能なディメンション、指標、時間でノードを分類します。 |
| [!UICONTROL トレンド] | ノードのトレンド図を作成します。 |
| 次の列を表示／前の列を表示 | ビジュアライゼーションの次の（右）列または前の（左）列を表示します。 |
| 列を非表示 | 選択されている列をビジュアライゼーションから非表示にします。 |
| [!UICONTROL 列全体を展開] | 列を展開して、すべてのノードを表示します。デフォルトでは、上位 5 つのノードのみ表示されます。 |

## 「最初 / 最後の発生に制限」のシナリオの例

このオプションを使用する場合、次の点に注意してください。

* **[!UICONTROL 最初 / 最後の発生に制限]**&#x200B;は、シリーズの最初または最後の発生のみをカウントします。**[!UICONTROL 次で始まる]**&#x200B;または&#x200B;**[!UICONTROL 次で終わる]**&#x200B;条件の他のすべての発生は、破棄されます。
* **[!UICONTROL 次で始まる]**&#x200B;フローで使用していた場合、開始条件に一致する最初の発生のみが含まれます。
* **[!UICONTROL 次で終わる]**&#x200B;フローで使用していた場合、終了条件に一致する最後の発生のみが含まれます。
* 使用されるシリーズは、コンテナに基づいて異なります。**[!UICONTROL 訪問]**&#x200B;コンテナを使用している場合、ヒットのシリーズは、セッションになります。**[!UICONTROL 訪問者]**&#x200B;コンテナを使用している場合、ヒットのシリーズは、指定された日付範囲での指定されたユーザーに対するすべてのヒットになります。
* 「**[!UICONTROL 最初 / 最後の発生に制限]**」オプションは、「次で始まる」または「次で終わる」フィールドで指標またはディメンション項目を使用している場合に、詳細設定で設定できます。

ヒットのシリーズの例：

ホーム／製品／買い物かごに追加／製品／買い物かごに追加／請求／注文確認

### 次の設定を使用したフロー分析の検討：

* 次で始まる [!UICONTROL 買い物かごに追加]（ディメンション項目）
* [!UICONTROL ページ]パスディメンション
* [!UICONTROL 訪問]コンテナ

「**[!UICONTROL 最初 / 最後の発生に制限]**」が&#x200B;*無効*になっている場合、この一連のヒットは、2 回の「買い物かごに追加」とカウントされます。
期待されるフロー出力：
「買い物かごに追加」（2）—>「製品」（1）
->「請求」（1）

ただし、「**[!UICONTROL 最初 / 最後の発生に制限]**」が&#x200B;*有効*になっている場合は、「買い物かごに追加」の最初の発生のみが分析に含まれます。
期待されるフロー出力：
「買い物かごに追加」（1）—>「製品」（1）

### 同じヒットのシリーズだが次の設定を使用する場合の検討：

* 次で終わる [!UICONTROL 買い物かごに追加]（ディメンション項目）
* [!UICONTROL ページ]パスディメンション
* [!UICONTROL 訪問]コンテナ

「**[!UICONTROL 最初 / 最後の発生に制限]**」が&#x200B;*無効*になっている場合、この単一のヒットのシリーズは、2 回の「買い物かごに追加」とカウントされます。
期待されるフロー出力：
「製品」（2）&lt;—「買い物かごに追加」（2）

ただし、「**[!UICONTROL 最初 / 最後の発生に制限]**」が&#x200B;*有効*&#x200B;になっている場合は、「[!UICONTROL 買い物かごに追加]」の最後の発生のみが分析に含まれます。期待されるフロー出力：
「製品」（1）&lt;—「買い物かごに追加」（1）
