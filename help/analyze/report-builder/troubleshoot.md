---
description: Report Builder の配信を最適化する方法や、時々発生する可能性のあるエラーメッセージのリストを示します。
title: Report Builder のトラブルシューティングとベストプラクティス
uuid: 36a08143-dc78-40f5-9ce9-7d16980aa27b
feature: Report Builder
role: User, Admin
exl-id: 41a640ce-2316-439b-b3ba-f0bace9af268
source-git-commit: 7226b4c77371b486006671d72efa9e0f0d9eb1ea
workflow-type: ht
source-wordcount: '1401'
ht-degree: 100%

---

# Report Builder のトラブルシューティングとベストプラクティス

Report Builder の配信を最適化する方法や、時々発生する可能性のあるエラーメッセージのリストを示します。

## Report Builder 5.0 のユーザーと 5.1 ワークブックの表示 {#section_C29898775999453FABB5FB0E098415C8}

ディメンションと分類の区切り文字がアンダースコア文字（_）から || に変更されました。この変更は、Report Builder 5.0 のユーザーが分類のリクエストで Report Builder v5.1 ワークブックを開く際の互換性に影響します。v5.1 より前のバージョンのワークブックを開くたびに、シリアル化された分類のリクエストがすべて、このフォーマットに変換されます。

これによって、次のような互換性の問題が発生します。ワークブックが Report Builder v5.0 のユーザーと共有されている場合、一旦 v5.1 に変換されると、v5.0 のユーザーは分類のリクエストを認識できなくなります（v5.0 では &quot;_&quot; が検索されるのに、v5.1 では &quot;||&quot; をシリアル化しています）。

ARB v5.1 ワークブックを分類のリクエストで開くときには、次のような不具合が発生します。

* ワークブックを開くと、次の警告が表示されます。「このワークブックは、Report Builder バージョン 5.1 を使って最後に保存されています。このバージョンには、このコンピューターにインストールされているバージョンの Report Builder と互換性のない機能が含まれています。このワークブックを更新する前に、Report Builder の最新バージョンにアップグレードすることを強くお勧めします。」
* 分類で ARB リクエストを右クリックしても、Report Builder のコンテキストメニュー（リクエストの編集、依存リクエストの追加など）が表示されません。
* 3 番目のボタンをクリックするか、リクエストマネージャーフォームからリクエストのセットを更新することによって、「すべて更新」を実行すると、分類のリクエストがエラーなく実行されます。ただし、分類値は書き込まれません。
* リクエストマネージャーを開き、適切なリクエストに到達するまで 1 行ずつ移動することによって、リクエストを編集することはできます。
* リクエストを編集し、すべてのパラメーターを同一のままにして、「完了」をクリックすると、応答は適切に書き込まれます。実際、リクエストを編集することによって、応答レイアウトパラメーターが再シリアル化されるので、問題が解決します。つまり、時間はかかりますが、回避策はあります。

## Report Builder の認証の問題 {#section_FD79104DF1414FE2B36591606C963DE6}

Report Builder では、レポートスイートからデータリクエストを作成する場合、認証が必要になります。[!DNL Analytics] の設定やネットワークの状況によっては、Report Builder へのログインで問題が発生することがあります。

* **無効なログイン会社名**：このエラーは通常、ログイン会社情報が誤って入力されたか、ネットワークアクティビティに問題がある場合に発生します。以下の対策を実行してください。
   * ログイン会社名のスペルに、タイプミスや不要なスペースがないことを確認する。
   * 同じログイン会社名を使用して Analytics にログインし、ログイン会社名が正しいことを確認する。これらの認証情報を使用してログインできない場合は、組織の管理者に正しいログイン会社名について問い合わせてください。
* **ファイアウォール** Report Builder ではポート 80 と 443 を使用します。これらのポートが組織のファイアウォールで許可されていることを確認してください。また、その他のファイアウォール例外条件については、アドビの内部 IP アドレスの情報も参照してください。

## リクエストの最適化に関する推奨事項 {#section_33EF919255BF46CD97105D8ACB43573F}

次の要因によって、リクエストがより複雑になり処理が遅くなる場合があります。

* **配信の速度を低下させる可能性がある要因**：数時間の間にスケジュールされたブックマーク、ダッシュボード、Report Builder が多すぎます。ほぼ同じ時間に、スケジュールされた Report Builder ワークブックが多すぎることも考えられます。この場合、レポート API キューはバックログされます。
* **ワークブックの実行時間を長くさせる要因**：分類が大幅に増加したか、リクエストの日付範囲が経時的に増加しています。
* **ワークブックの配信に失敗する原因**：ワークブック内の Excel 式が複雑です（特に日付と時間を含む式）。
* **0（値なし）を返すセル**：Excel のシート名にアポストロフィまたは一重引用符があると、Report Builder は値を返しません。（これは Microsoft Excel の制限です。）
* **個々のリクエストのパフォーマンス**：処理速度は、次の設定の影響を受ける場合があります。

   | 設定 | パフォーマンス向上 | パフォーマンス低下 |
   |--- |--- |--- |
   | 分類および分類の順序 | 少ない | 多い |
   |  | 例：A を Z で分類する場合、A の項目数は常に Z の項目数より少なくする必要があります。逆の場合はリクエスト時間が大幅に増加します。 |
   | 日付範囲 | 短い | 長い |
   | フィルター | 具体的なフィルター | 最頻使用フィルター |
   | 精度 | 集計 | 1 時間ごと<ul><li>毎日</li><li>毎週</li><li>毎月</li><li>毎四半期</li><li>毎年</li></ul> |
   | エントリ数 | 小規模なデータセット | 大規模なデータセット |

* **スケジューリング時間**：24 時間にわたり、スケジュールを分散させます（以下の表を参照）。既存のブックマーク、ダッシュボードおよび Report Builder ワークブックを共に近い時間にスケジュール設定すると、遅延が発生する場合があります。大規模で複雑なリクエストを早朝にスケジュールし、営業日中に手動での取り込みや更新ができるようにします。

   | スケジュール時間 | 午前 1 時 ～ 午前 2 時 | 午前 2 時 ～ 午前 7 時 | 午前 7 時 ～ 午後 6 時 | 午後 6 時 ～ 深夜 |
   |--- |--- |--- |--- |--- |
   | Report Builder の使用状況 | 少ない | 非常に多い | クライアント側の使用。<br>多くのユーザーが、ローカルからの更新や「すぐに送信」のリクエストを行います。<br>追加事項として、スケジュールされたワークブックがタイムアウトしたときに API キューがクリアされるかを検証します。 | 多くない |

* **タイムアウト**：いずれの予定レポートも、4 時間後にタイムアウトします。システムでその後 3 回スケジュールが試行されると、エラーが発生する可能性があります（通常、データセットが大きいほど実行時間が長くなります）。予定レポートは [!DNL Analytics] レポートおよび Report Builder の次の場所で表示できます。

## エラーメッセージの説明 {#section_3DF3A1EEDAD149CB941BEABEF948A4A5}

Report Builder の使用中に表示されることのあるエラーメッセージのリストです。

>[!NOTE]
>
> ここに紹介するエラーメッセージは一部のみであり、すべてを網羅したものではありません。エラーの解決法について詳しくは、管理者にお問い合わせください。

* **この機能は開いているワークブックでのみ適用できます。**：Excel でワークブック（スプレッドシートドキュメント）が開かれていない状態で、Report Builder ツールバーのアイコンのいずれかをクリックすると、このメッセージが表示されます。また、スプレッドシートを開くまではツールバーは無効になります。ただし、オンラインヘルプアイコンはクリックできます。その場合はこのエラーが発生せずに、ツールバーは有効な状態のままになります。
* **[!UICONTROL リクエストウィザード]を終了してから[!UICONTROL リクエストマネージャー]を起動する必要があります。**：[!UICONTROL リクエストマネージャー]と[!UICONTROL リクエストウィザード]は機能的に関連があるので、[!UICONTROL リクエストウィザード]内での作業を完了するかキャンセルするまでは、[!UICONTROL リクエストマネージャー]での作業を開始することはできません。
* **この範囲に関連付けられているリクエストはありません。**：スプレッドシートのセルにリクエストが含まれていないときに[!UICONTROL リクエストマネージャー]の「[!UICONTROL シートから取得]」ボタンをクリックすると、このエラーメッセージが表示されます。スプレッドシート内でリクエストが含まれるセルを特定するには、[!UICONTROL リクエストマネージャー]内のテーブルに表示される個々のリクエストをクリックします。リクエストがセルと関連付けられている場合、そのセルが強調表示されます。
* **選択されている範囲が無効です。別の範囲を選択してください。**：スプレッドシートのセルが選択されていて、既にマッピングされているリクエストがある場合に、このエラーが発生します。セルにマッピングされているリクエストを削除するか、別のセルの範囲を選択してマッピングしてください。セルを削除したい場合は、リクエストを含むセルを選択して、リクエストを削除してからセルを削除する（行または列を削除する）ことが重要です。
* **この機能を使用する前に Excel のセルの編集を終了してください。**：Excel のセルが&#x200B;*編集モード*&#x200B;の場合に Report Builder のいずれかのアイコンをクリックすると、このエラーメッセージが表示されます。Excel のセルの編集モードとは、セルが選択され、カーソルがセル内部に表示されている状態です。また、Excel の上部の[!UICONTROL 数式]バーや[!UICONTROL 名前ボックス]に直接入力しているときにも、Excel のセルの編集モードの状態になっています。
* **選択した範囲は別のリクエストの範囲と交差します。選択を変更してください。**：一連のセルをスプレッドシートに既にマッピングしている場合に、このエラーが表示されます。
* **ワークブックの修復（削除されたレコード：/xl/calcChain.xml の部分の式）**：保存時や転送時に、ワークブックの式が破損する場合があります。ファイルを開くと、Excel はこれらの式を実行しようと試みて失敗します。 この問題を解決するには、スプレッドシートから `calcChain.xml` を削除し、Excel で式の計算を更新する必要があります。
   1. ワークブックのファイル拡張子を `.xlsx` から `.zip` に変更します。
   2. 内容を解凍し、`/xl/` フォルダーを開きます。
   3. 削除 `calcChain.xml`.
   4. 内容を再圧縮し、ファイル拡張子を `.xlsx` に戻します。
   5. Excel でワークブックを開き、すべての Report Builder リクエストを更新します。
* **入力フィルターまたは出力範囲に関連付けられている Excel セルが削除された可能性がある**：Report Builder では、Excel 名を使用して、データリクエストをセルにアタッチしますNames Manager から Excel 名を削除すると、このエラーが表示されます。 Excel 名を削除すると、リクエストを復元できなくなります。 ワークブックがスケジュールされている場合は、スケジュールマネージャからコピーをダウンロードするか、以前に配信されたワークブックのコピーを開くことができます。
