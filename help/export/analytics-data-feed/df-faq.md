---
description: データフィードに関するよくある質問(FAQ)
keywords: データフィード；ジョブ；pre列；post列；大文字と小文字の区別
title: データフィードに関する FAQ
exl-id: 1bbf62d5-1c6e-4087-9ed9-8f760cad5420
translation-type: tm+mt
source-git-commit: e9969fbcc2adb58fba8d2bd293580181a05d1bac
workflow-type: tm+mt
source-wordcount: '1369'
ht-degree: 50%

---

# データフィードに関する FAQ

データフィードに関するよくある質問です。

## フィード名は一意である必要がありますか？{#section_EF38BB51A7E240D69DAD4C07A34D9AD5}

データフィードファイル名がレポートスイート ID および日付で構成されています。同じ RSID および日付に設定された任意の 2 つのフィードは、同じファイル名になります。これらのフィードが同じ場所に配信されると、1 つのファイルがもう 1 つを上書きします。ファイルの上書きを防ぐには、既存のフィードを上書きする可能性があるフィードを同じ場所に作成しないようにします。

同じファイル名を持つ別のフィードが存在する場合にフィードを作成しようとすると、次のメッセージが表示されます。

このエラーが表示される場合は、次の対処方法を検討します。

* 配信パスを変更する
* 可能であれば日付を変更する
* 可能であればレポートスイートを変更する

## データはいつ処理されますか。{#section_6346328F8D8848A7B81474229481D404}

時間別または日別のデータを処理する前に、データフィードはその時間枠（日または時間）内にデータ収集に入ったすべてのヒットがデータウェアハウスに書き出されるまで待機します。その後、データフィードはその時間枠内のタイムスタンプを持つデータを収集し、圧縮したうえで FTP 経由で送信します。時間別フィードの場合、ファイルは通常、その時間帯の終了後 15～30 分以内にデータウェアハウスに書き出されますが、設定時間はありません。その時間枠内のタイムスタンプを持つデータが存在しない場合は、同じ処理が次の時間枠で再試行されます。現在のデータフィード処理では、どのヒットがその時間帯に属しているかを確認するために `date_time` フィールドを使用します。このフィールドは、レポートスイートのタイムゾーンに基づいています。

## `post_` プレフィックスのある列と `post_` プレフィックスのない列の違いは何ですか。

`post_`プレフィックスのない列には、データ収集に送信されたデータと同じデータが含まれます。 `post_`プレフィックスのある列には、処理後の値が含まれます。 値を変更できる例としては、変数の持続性、処理ルール、VISTA ルール、通貨換算、その他のサーバー側ロジックが挙げられます。可能な限り、列の `post_` バージョンを使用することをお勧めします。

`post_` バージョンの区別のない列（`visit_num` など）は、post 列と見なすことができます。

## データフィードで大文字と小文字の区別を扱う方法

Adobe Analytics では、ほとんどの変数は、レポートの目的で、大文字と小文字が区別されません。例えば、「snow」、「Snow」、「SNOW」、「sNow」はすべて同じ値と見なされます。大文字と小文字の区別は、データフィードで保持されます。

非 post 列と post 列の間で同じ値の大文字と小文字の違いが見られる場合（例えば、pre 列に「snow」、post 列に「Snow」）、サイト全体で大文字と小文字の両方の値が使用されます。post 列内のバージョンは、以前に渡されて仮想 cookie に保存されている値か、同時期にそのレポートスイート用に処理された値です。

## ボットは管理コンソールのボットルールによってフィルタリングされ、データフィードに含まれますか。

データフィードには、[Admin Console ボットルール](https://experienceleague.adobe.com/docs/analytics/admin/admin-tools/bot-removal/bot-removal.html)でフィルタリングされたボットは含まれません。

## `event_list`または`post_event_list`データフィード列に複数の`000`値が表示されるのはなぜですか。

一部のスプレッドシートエディタ（特にMicrosoft Excelなど）では、大きな数値が自動的に丸められます。 `event_list`列には、カンマで区切られた多数の数字が含まれているので、Excelで大きな数字として処理されることがあります。 最後の数桁を`000`に丸めます。

Adobeでは、Microsoft Excelで`hit_data.tsv`ファイルを自動的に開かないことをお勧めします。 代わりに、Excelの[データのインポート]ダイアログボックスを使用し、すべてのフィールドがテキストとして扱われていることを確認してください。

## 一部の通信事業者のドメイン列に情報が表示されないのはなぜですか。{#section_B7508D65370442C7A314EAED711A2C75}

一部の携帯電話会社（T-Mobile や O1 など）は、DNS 逆引き参照にドメイン情報を提供しなくなりました。そのため、そのデータはドメインレポートには使用できません。

## 作成日から7日を超えるデータから「時間別」ファイルを抽出できないのはなぜですか。

作成日から7日を超えるデータの場合、1日の「時間別」ファイルは1つの「日別」ファイルに結合されます。

例：2021年3月9日に新しいデータフィードが作成され、2021年1月1日から3月9日までのデータが「時間別」として配信されます。 ただし、2021年3月2日より前の「時間別」ファイルは、1つの「日別」ファイルに結合されます。 「時間別」ファイルは、作成日から7日未満のデータからのみ抽出できます。 この場合、3月2日から3月9日まで。

## 時間別データフィードに対する夏時間の影響は何ですか。{#section_70E867D942054DD09048E027A9474FFD}

一部のタイムゾーンでは、夏時間(DST)の定義により、1年に2回時間が変わります。 データフィードでは、レポートスイートが設定されているタイム ゾーンが考慮されます。レポートスイートのタイムゾーンでDSTが使用されていない場合、ファイルの配信は他の日と同様、通常どおりに続行されます。 レポートスイートのタイムゾーンでDSTが利用されている場合は、時刻の変更が発生する時間（通常は午前2時）に合わせてファイルの配信が変更されます。

STDからDSTへのトランジション時(「Spring Forward」)には、23個のファイルしか受け取りません。 DSTトランジションでスキップされた時間は省略されます。 例えば、トランジションが午前2時に発生した場合、午前1時のファイルと3時のファイルが取得されます。 STDでの午前2時はDSTでの午前3時になるので、午前2時のファイルは存在しません。

DSTからSTDへのトランジション（「フォールバック」）を行う場合、ユーザーは24個のファイルを取得します。 ただし、トランジション時間には、実際には2時間分のデータが含まれます。 例えば、トランジションが午前2時に発生した場合、午前1時のファイルは1時間遅れますが、2時間分のデータが含まれます。 午前1時（DSTの午前1時）から午前2時（STDの午前3時）までのデータが含まれます。 次のファイルはSTDでの午前2時に開始されます。

## データが収集されない場合、マニフェストファイルを受け取りますか。{#section_72510794694D42A9A75C966B812AEB0F}

必要に応じて、特定の期間に収集されたデータがない場合にマニフェストファイルを配信するようにデータフィードを設定できます。このオプションを有効にしている場合は、次のようなマニフェストファイルを受け取ることになります。

```text
Datafeed-Manifest-Version: 1.0
 Lookup-Files: 0
 Data-Files: 0
 Total-Records: 0
```

## Analyticsでは、FTP転送の失敗をどのように処理しますか。{#section_4BD44E9167F0494FB2B379D2BA132AD8}

FTP転送エラー（ログイン拒否、接続の切断、割り当て超過など）がイベントした場合、Adobeはデータの自動接続と送信を最大3回試みます。 それでもエラーが発生する場合、フィードは失敗とマークされ、電子メール通知が送信されます。

転送に失敗した場合は、ジョブが正常に完了するまでジョブを再実行できます。

FTPサイトにデータフィードを表示する際に問題が発生した場合は、[ジョブのトラブルシューティング](jobs-troubleshooting.md)を参照してください。

## ジョブを再送する方法{#section_BFD4447B0B5946CAAEE4F0F03D42EDFD}

配信の問題を確認および修正したら、ジョブを再実行してファイルを取得します。

## AmazonS3データフィードのBucketOwnerFullControl設定とは何ですか。{#section_6797EBBB7E6D44D4B00C7AEDF4C2EE1D}

Amazon S3 の一般的な使用例では、Amazon Web サービス（AWS）アカウント所有者がバケットを作成し、次にそのバケット内でオブジェクトを作成する権限を持つユーザーを作成し、そのユーザーに資格情報を付与します。この場合、ユーザーのオブジェクトは同じアカウントに属し、アカウントの所有者は暗黙的にオブジェクトのフルコントロール権（読み取り、削除など）を持ちます。 このプロセスは、FTP配信の動作と似ています。

AWSでは、別のユーザーアカウントに属するバケット内にオブジェクトを作成することも可能です。 例えば、2 人の AWS ユーザー（userA と userB）は同じ AWS アカウントに属しておらず、他のバケットにオブジェクトを作成したいとします。userA がバケットを作成すると（bucketA とします）、バケットの所有者でない userB に対して、bucketA でのオブジェクト作成を明示的に許可できます。このポリシーは、userAとuserBが資格情報を交換する必要がないので、有利です。 代わりに、userB は、userA にアカウント番号を提供し、userA は基本的に「userB に bucketA 内でオブジェクトを作成させる」ということを指示するバケットポリシーを作成します。

**BucketOwnerFullControl** は、他のバケットにオブジェクトを作成するためのクロスアカウント権限を付与します。userBがuserAのバケットにオブジェクトをアップロードした場合、userBは引き続きそのオブジェクトを「所有」し、デフォルトでは、userAはそのオブジェクトを所有しているにもかかわらず、そのオブジェクトに対する権限を付与されません。 これは、オブジェクトは親グループから権限を継承しないためです。 userB は依然としてオブジェクトの所有者なので、UserB が userA に明示的に権限を付与する必要があります。この権限を付与するには、userBはBucketOwnerFullControl ACLを使用してオブジェクトをアップロードする必要があります。これにより、オブジェクトがuserBによって「所有」されている場合でも、バケットの所有者(userA)に対するフル権限（読み取り、書き込み、削除など）が付与されます。

>[!MORELIKETHIS]
>
>* [ジョブのトラブルシューティング](jobs-troubleshooting.md)

