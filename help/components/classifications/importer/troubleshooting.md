---
title: 分類インポーターのトラブルシューティング
description: 分類インポーターの使用時に、アップロードに関する一般的な問題が発生します。
translation-type: tm+mt
source-git-commit: dbcdabdfd53b9d65d72e6269fcd25ac7118586e7
workflow-type: tm+mt
source-wordcount: '855'
ht-degree: 86%

---


# 分類インポーターのトラブルシューティング

分類データをアドビにアップロードする際に最もよく発生する問題です。

## ファイル形式または拡張子が正しくない

分類データを正常にアップロードするには、特定のファイル形式を使用する必要があります。正しくない形式で保存されている場合はエラーが発生し、どの行も処理されません。頻繁に返されるエラーは、「*最初の列はキーである必要があります*」ですが、エラーの数は任意です。必ず次の項目を確認してください。

* **.tabファイルや.txtファイルの代わりにスプレッドシート(.xlsx)をアップロードするには**:間違った形式で分類ファイルをアップロード *する場合、「最初の列はキーである必要があります」* というエラーメッセージが表示されます。分類インポーターは、.xlsファイルまたは.xlsxファイルの処理方法を知りません。 Excel の「名前を付けて保存」ダイアログで、正しい名前を付けて保存の種類を設定します。
   * Windows では、`Text (Tab delimited) (*.txt)` ファイル形式を使用します。
   * Mac OS では、`Windows Formatted Text` ファイル形式を使用します。
* **ブックとして保存した後にファイル名拡張子を変更する**：ファイル拡張子の名前を直接変更しようとすると、無効なブックが生成されます。Excel の「名前を付けて保存」機能を使用するか、Notepad++ などのテキストエディターで分類を編集してください。
* **大文字の拡張子の使用**：大文字の拡張子（例：`fileupload.TXT`）は使用できません。ファイル名の拡張子部分を小文字に変更してください（`fileupload.txt`）。
* **不一致の文字エンコーディング**：テンプレートをダウンロードしたときに、保存した分類のアップロードのエンコーディングが元のエンコーディングと一致することを確認してください。最初に UTF-8 でエンコードされた UTF-16 ファイルをアップロードする場合、アップロードすると予期しない結果が生じます。バイトオーダーマークのない UTF-8 を使用したファイルのアップロードをお勧めします。

## ファイルの内容が正しくない

アップロードしたファイルの形式が正しくない場合、アップローダーは有効な行をできる限り多くインポートすることを試みます。分類データに関するよくある問題を以下に示します。

* **既に分類済みの行**：同じ値を持つ分類済みの行をアップロードしようとすると、インポーターはそれらの行を影響のない行として報告します。この結果は予期された動作であり、分類済みのキー値が再分類されることはありません。これはエラーではなく通知です。エクスポートファイル内ですべての行が変更されているかを確認する必要はありません。変更した行のみをアップロードすることをお勧めします。
* **ヘッダーとアップロードしようとしている変数が一致しない**：トラッキングコードの分類テンプレートをダウンロードして、その eVar 分類にアップロードしようとすると失敗します。その変数用にエクスポートされたエクスポートファイルのみを使用してください。
* **キーまたは分類に値 0 が含まれている**：分類では、値 0 と空白セルが区別されないため、この値は分類できません。詳しくは、[分類 FAQ](../faq.md) を参照してください。
* **分類ファイルにカンマまたは特殊文字が含まれる**：詳しくは、[分類 FAQ](../faq.md) を参照してください。
* **アップロードしたファイルにある余分なタブ**：分類ファイルの編集時に、余分なタブが誤って挿入されることがあります。各行のタブの数が一致していない場合は、処理に失敗します。ファイル内の追加のタブをチェックするには、平文エディタですべてのテキストをハイライト表示し、行の最後に余分なスペースがないことを確認します。
* **ファイル内に重複したキー値がある**：各キー値は、1 つの列につき 1 つの分類のみを持つことができます。同じ値を複数回分類しようとすると、インポーターによってエラーがスローされます。
* **下位分類が存在し、その設定が正しくない**：下位分類が存在する場合は、次の点を確認してください。
   * すべての下位文類値に親分類値が含まれている
   * 同じ親分類値を参照している下位分類が 2 つ以上存在していない
* **列の不一致**:特定の行に無効な列数がある *場合、「行上のキーの列が多すぎます」* というエラーメッセージが表示されます。例えば、分類アップロードに3つの列があり、変数には1つの分類しかないとします。 アップロードファイルを検証し、列数がその変数に設定されている分類数を超えていないことを確認します。

## FTP インポートのトラブルシューティング

次に、FTP 分類がアップロードされたファイルを処理しない一般的な原因を示します。

* **.Fin ファイルの欠如**：デスクトップに空のテキストドキュメントを作成し、ファイル名拡張子を .txt から .fin に変更します。この .fin ファイルの名前は、対象となる分類ファイルの名前と一致する必要があります。例えば、FTP のファイル名が `fileupload.tab` である場合は、.fin ファイルに `fileupload.fin` と名前を付けます。.fin ファイルがアップロードされると、両方のファイルが消えます。
* **分類ファイルの前に .fin ファイルをアップロードしている**：分類ファイルの FTP サイトへのアップロードが完了する前に .fin が作成されることがあります。ファイルがアップロード順不同の場合、処理が失敗する可能性があります。両方のファイルを削除し、最初に分類ファイルを追加し、次に分類ファイルが完全にアップロードされた後に .fin ファイルを追加します。
* **ファイルサイズが大きすぎぎる**：迅速な処理を実現するために、分類ファイルのサイズをできる限り小さく保つことをお勧めします。
* **既存のファイルが既に処理中である**：同じ変数とレポートスイートに対して複数のファイルがアップロードされた場合、古いファイルは処理を停止し、新しいファイルが優先されます。複数のファイルを使用して分類をアップロードする場合は、既存のファイルの処理が終了したことを確認してから、新しいファイルをアップロードしてください。
* **アップロードされたファイルがルートディレクトリに配置されていない**：アドビの FTP サイトにアップロードするファイルは、ルートディレクトリに配置する必要があります。分類インポートファイルがサブフォルダーに配置されている場合、インポートファイルは取得または処理されません。

分類ファイルのアップロードに関する問題が解決しない場合は、Adobe カスタマーケアにお問い合わせください。
