---
title: 分類インポーターのトラブルシューティング
description: 分類インポーターの使用時に、アップロードに関する一般的な問題が発生します。
translation-type: tm+mt
source-git-commit: dbcdabdfd53b9d65d72e6269fcd25ac7118586e7
workflow-type: tm+mt
source-wordcount: '855'
ht-degree: 12%

---


# 分類インポーターのトラブルシューティング

分類データをAdobeにアップロードする際に最もよく発生する問題です。

## ファイル形式または拡張子が正しくない

分類を正常にアップロードするには、特定のファイルタイプと形式を指定する必要があります。 正しくない形式で保存されている場合はエラーが発生し、どの行も処理されません。頻繁に返されるエラーは、 *「最初の列はキーである必要があります」*&#x200B;ですが、エラーの数は任意です。 必ず次の項目を確認してください。

* **.tabファイルや.txtファイルの代わりにスプレッドシート(.xlsx)をアップロードするには**:間違った形式で分類ファイルをアップロード *する場合は、「最初の列はキーである必要があります* 」というエラーメッセージが表示されます。 分類インポーターは、.xlsファイルまたは.xlsxファイルの処理方法を知りません。 Excelの[名前を付けて保存]ダイアログで、正しい名前を付けて保存の種類を設定します。
   * Windowsでは、ファイル形式を使用します `Text (Tab delimited) (*.txt)`
   * Mac OSでは、ファイル形式を使用し `Windows Formatted Text`ます。
* **ブックとして保存した後にファイル名拡張子を変更する**:ファイル拡張子の名前を直接変更しようとすると、無効なブックが生成されます。 Excelの「名前を付けて保存」機能を使用するか、メモ帳++などのテキストエディターで分類を編集してください。
* **大文字の拡張子を使用する**:大文字の拡張子( `fileupload.TXT`など)は機能しません。 Rename the file to a lowercase extension (`fileupload.txt`).
* **不一致の文字エンコーディング**:テンプレートをダウンロードしたときに、保存した分類のアップロードのエンコーディングが元のエンコーディングと一致することを確認してください。 最初にUTF-8でエンコードされたUTF-16ファイルをアップロードする場合、アップロードすると予期しない結果が生じます。 Adobeでは、バイトオーダーマークのないUTF-8を使用したファイルのアップロードをお勧めします。

## ファイルの内容が正しくない

アップロードしたファイルの形式が正しくない場合、アップローダーは有効な行をできる限り多くインポートすることを試みます。分類データに関するよくある問題を以下に示します。

* **既に分類されている行**:同じ値で既に分類されている行をアップロードしようとすると、インポーターは効果のない行を返します。 この結果は予期された動作であり、分類済みのキー値が再分類されることはありません。これはエラーの代わりに通知です。 エクスポートファイル内ですべての行が変更されているかを確認する必要はありません。Adobeでは、変更した行のみをアップロードすることをお勧めします。
* **ヘッダーが、アップロード中の変数と一致しません**:トラッキングコードディメンションの分類テンプレートをダウンロードして、eVar分類にアップロードしようとすると失敗します。 その変数用にエクスポートされたエクスポートファイルのみを使用してください。
* **キーまたは分類の値に0が含まれる場合**:分類では、値0を空白のセルと区別できないので、この値を分類できません。 詳しくは、 [分類のFAQ](../faq.md)を参照してください。
* **分類ファイルには、カンマまたは特殊文字が含まれます**。詳しくは、 [分類のFAQ](../faq.md)を参照してください。
* **アップロードされたファイル内の追加のタブ**:分類ファイルを編集する際に、余分なタブが誤って挿入される場合があります。 各行のタブの数が一致していない場合は、処理に失敗します。ファイル内の追加のタブをチェックするには、平文エディタですべてのテキストをハイライト表示し、行の最後に余分なスペースがないことを確認します。
* **重複キーの値がファイルに存在します**:各キー値は、列ごとに1つの分類しか持つことができません。 同じ値を複数回分類しようとすると、インポーターによってエラーがスローされます。
* **下位分類が存在し、正しく設定されていない**:下位分類が存在する場合は、次を確認します。
   * すべての下位文類値に親分類値が含まれている
   * 同じ親分類値を参照している下位分類が 2 つ以上存在していない
* **列の不一致**:特定の行に無効な数の列がある場合は、 *「行上のキーの列数が多すぎます」* というエラーメッセージが表示されます。 例えば、分類アップロードに3つの列があり、変数には1つの分類しかないとします。 アップロードファイルを検証し、列数がその変数に設定されている分類数を超えていないことを確認します。

## FTPインポートのトラブルシューティング

次に、FTP分類がアップロードされたファイルを処理しない一般的な原因を示します。

* **.finファイルがありません**:デスクトップに空のテキストドキュメントを作成し、ファイル名拡張子を.txtから.finに変更します。 この.finファイルの名前は、対象となる分類ファイルの名前と一致する必要があります。 例えば、FTPのファイル名がである場合 `fileupload.tab`は、.finファイルの名前を付け `fileupload.fin`ます。 .finファイルがアップロードされると、両方のファイルが消えます。
* **分類ファイルの前に.finファイルをアップロードしています**:分類ファイルのFTPサイトへのアップロードが完了する前に.finが作成されることがあります。 ファイルがアップロード順不同の場合、処理が失敗する可能性があります。 両方のファイルを削除し、最初に分類ファイルを追加し、次に分類ファイルが完全にアップロードされた後に.finファイルを追加します。
* **ファイルサイズが大きすぎます**:Adobeでは、迅速な処理を実現するために、分類ファイルのサイズをできる限り小さく保つことをお勧めします。
* **既存のファイルは既に処理中です**:同じ変数とレポートスイートに対して複数のファイルがアップロードされた場合、古いファイルは処理を停止し、新しいファイルが優先されます。 複数のファイルを使用して分類をアップロードする場合は、既存のファイルの処理が終了したことを確認してから、新しいファイルをアップロードしてください。
* **アップロードされたファイルがルートディレクトリに配置されていません**:AdobeのFTPサイトにアップロードするファイルは、ルートディレクトリに配置する必要があります。 分類インポートファイルがサブフォルダーに配置されている場合、インポートファイルは取得または処理されません。

分類ファイルのアップロードに関する問題が解決しない場合は、Adobeカスタマーケアにお問い合わせください。
