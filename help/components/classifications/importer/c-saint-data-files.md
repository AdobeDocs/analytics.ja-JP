---
description: インポーターを使用すると、分類データを Analytics レポートに一括してファイルでアップロードできます。データのアップロードを正常におこなうために、インポートでは指定のファイル形式を使用する必要があります。
title: 分類データファイル
feature: Classifications
exl-id: aa919a03-d461-4d12-adc1-6441fb467e63
source-git-commit: 04c626b1159be3e61569e462bf9d12957bd2a333
workflow-type: tm+mt
source-wordcount: '1032'
ht-degree: 90%

---

# 分類データファイル（レガシー）

インポーターを使用すると、分類データを Analytics レポートに一括してファイルでアップロードできます。データのアップロードを正常におこなうために、インポートでは指定のファイル形式を使用する必要があります。

有効なデータファイルを作成するために、テンプレートファイルをダウンロードして、このテンプレートのファイル構造に分類データを貼り付けることができます。詳しくは、[分類テンプレートのダウンロード](/help/components/classifications/importer/c-download-saint-data.md)を参照してください。

分類での文字数制限について詳しくは、[一般的なファイル構造](/help/components/classifications/importer/c-saint-data-files.md)を参照してください。

## 一般的なファイル構造

データファイルの例を以下に示します。

![](assets/completed-saint-file.png)

データファイルは、以下の構造ルールに従って作成する必要があります。

* 分類は、0（ゼロ）の値を持つことはできません。
* インポートおよびエクスポートする列の数を 30 以内にすることをお勧めします。
* アップロードするファイルは、BOM なしの UTF-8 でエンコードする必要があります。
* タブ、改行、引用符などの特殊文字は、バージョン 2.1 のファイル形式が指定されており、セルが適切に[エスケープ](/help/components/classifications/importer/importer-faq.md)されている場合、セル内に埋め込むことができます。特殊文字には、次のものがあります。

  ```text
  \t     tab character 
  \r     form feed character 
  \n    newline character 
  "       double quote
  ```

  コンマは特殊文字に含まれません。

* 分類名にキャレット（^）を含めることはできません。この文字はサブ分類を示すために使用されるからです。
* ハイフンを使用する際は注意が必要です。例えば、Social のキーワードでハイフン（-）を使用すると、Social はハイフンを [!DNL Not] 演算子（マイナス記号）として認識します。例えば、読み込むキーワードとして「*`fragrance-free`*」を指定すると、Social はこのキーワードを「fragance *`minus`* free」と認識し、「*`fragrance`*」に関する投稿のみを収集し、「*`free`*」に関する投稿は収集されません。
* レポートデータの分類では、文字数の制限が適用されます。例えば、製品名が 100 文字（バイト）を超える製品の分類テキストファイル（*`s.products`*）をアップロードしても、製品はレポートに表示されません。トラッキングコードおよびすべてのカスタムコンバージョン変数（eVar）では、255 バイトを使用できます。このポリシーは、同じ 255 バイト制限の対象となる分類およびサブ分類列の値にも適用されます。
* タブ区切りのデータファイルにします（スプレッドシートアプリケーションやテキストエディターを使用してテンプレートファイルを作成します）。
* ファイルの拡張子は、`.tab` または `.txt` にします。
* シャープ記号（#）でコメントを記述できます。# で始まる行は無視されます。
* ダブルポンド記号の後に SC （`## SC`）が続くと、レポートで使用される前処理ヘッダーコメントとして行が識別されます。 この行は削除しないでください。
* 分類エクスポートでは、キーに改行文字が含まれているためにキーが重複することがあります。FTP またはブラウザーのエクスポートで、FTP アカウントに対して引用符の使用を有効にすることで、この問題を解決できます。引用符の使用を有効にすると、改行文字が含まれている各キーが引用符で囲まれます。
* インポートファイルの先頭行のセル C1 には、ファイルの残りの部分で分類が引用符の使用をどのように処理するかを判別するバージョン ID が格納されます。

   * v2.0 は引用符を無視し、すべてが指定されたキーと値の一部であると見なします。例えば、&quot;This is &quot;&quot;some value&quot;&quot;&quot; という値を考えてみましょう。v2.0 は、これを文字どおりに &quot;This is &quot;&quot;some value&quot;&quot;&quot; と解釈します。
   * v2.1 は、引用符が Excel ファイルで使用されているファイルフォーマットの一部であると見なすよう分類に指示します。したがって、v2.1 は上記の例を This is &quot;some value&quot; にフォーマットします。
   * ファイル内で v2.1 が指定されているが実際には v2.0 が必要な場合、つまり、Excel のフォーマットとしては不正な方法で引用符が使用されている場合は、問題が生じることがあります。例えば、&quot;VP NO REPS&quot; S/l Dress w/ Overlay という値があるとします。v2.1 では、これは正しくないフォーマットであり（値は開始引用符と終了引用符で囲み、実際の値の一部である引用符は引用符でエスケープする必要があります）、これ以降の行は分類処理がおこなわれません。
   * ファイルのヘッダー（セル C1）を変更してファイル形式を v2.0 に変更するか、ファイル全体で Excel の引用符を正しく使用してください。

* データファイルの最初にある（コメントなしの）行には、列内の分類データを示す列見出しが含まれます。列見出しには、特定の形式を使用する必要があります。詳しくは、[列見出しの形式](/help/components/classifications/importer/c-saint-data-files.md)を参照してください。
* データファイルのヘッダー行のすぐ後には、データ行が続きます。データの各行には、列見出しごとに 1 つのデータフィールドを含める必要があります。
* データファイルでは、以下の制御コードがサポートされます。このコードは、ファイルを構造化し、分類データを正確にインポートするために使用されます。

<table id="table_0548F2E58B6644208147434EB9B3C21B"> 
 <thead> 
  <tr> 
   <th colname="col1" class="entry"> 制御コード </th> 
   <th colname="col2" class="entry"> 説明 </th> 
  </tr> 
 </thead>
 <tbody> 
  <tr> 
   <td colname="col1"> <p>&lt;改行&gt; </p> </td> 
   <td colname="col2"> <p>データファイルのデータ行／レコード間の区切りとしてサポートされているのは、改行文字だけです。通常は、データファイルの自動生成プログラムを記述するときに、具体的にこれらの文字を挿入する必要があります。 </p> </td> 
  </tr> 
  <tr> 
   <td colname="col1"> <p>~autogen~ </p> </td> 
   <td colname="col2"> <p>自動的にこのエレメントの一意の ID が生成されます。 </p> <p>キャンペーン用途の場合は、この制御値によってクリエイティブエレメントごとに ID が割り当てられます。「<a href="/help/components/classifications/importer/c-saint-data-files.md"  >キー</a>」を参照してください。 </p> </td> 
  </tr> 
  <tr> 
   <td colname="col1"> <p>~period~ </p> </td> 
   <td colname="col2"> <p>該当する列は日付範囲を表す文字列であることをシステムに伝えます。「<a href="/help/components/classifications/importer/c-saint-data-files.md"  >日付</a>」を参照してください。 </p> </td> 
  </tr> 
  <tr> 
   <td colname="col1"> <p>空のフィールド </p> </td> 
   <td colname="col2"> <p>価が NULL であることを示します。特定のデータ列が現在のレコードに適用されない場合に使用します。 </p> </td> 
  </tr> 
  <tr> 
   <td colname="col1"> <p>PER 修飾子 </p> </td> 
   <td colname="col2"> <p>データ列が <span class="wintitle">PER 修飾子</span>のフィールドを示すことを指定します。<a href="/help/components/classifications/importer/c-saint-data-files.md"  >PER 修飾子の見出し</a>を参照してください。 </p> </td> 
  </tr> 
 </tbody> 
</table>

## 列見出しの形式

>[!NOTE]
>
>インポートおよびエクスポートする列の数を 30 以内にすることをお勧めします。

分類ファイルは次の列見出しをサポートしています。

### キー

各値はシステム全体で一意である必要があります。このフィールドの値は、Web サイトの [!DNL JavaScript] ビーコンで [!DNL Analytics] の変数に割り当てられた値に対応しています。この列のデータには、~autogen~ や一意のトラッキングコードが含まれる場合があります。

### 分類列の見出し

>[!NOTE]
>
>[!UICONTROL 分類]列の見出しの値は、分類の名前に完全に合致する必要があります。合致していない場合、インポートに失敗します。例えば、管理者が[!UICONTROL キャンペーン設定マネージャー]で「[!UICONTROL キャンペーン]」から「[!UICONTROL 内部キャンペーン名]」に変更した場合は、ファイルの列見出しを同様に変更する必要があります。「キー」は予約済みの分類（ヘッダー）値です。「キー」という名前の新しい分類はサポートされていません。

さらに、データファイルでは、下位分類やその他の特殊なデータ列を識別する次の追加の見出し規則をサポートしています。

### サブ分類見出し

例えば、`Campaigns^Owner` は、`Campaign Owner` 値を含んだ列の列見出しです。 同様に、`Creative Elements^Size` は `Creative Elements` 分類の `Size` のサブ分類を含んだ列の列見出しです。

## 分類のトラブルシューティング

* [一般的なアップロードの問題](https://helpx.adobe.com/jp/analytics/kb/common-saint-upload-issues.html)：不適切なファイル形式およびファイルの内容に起因する問題について説明したナレッジベース記事です。
