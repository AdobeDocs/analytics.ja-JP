---
description: マーチャンダイジング変数を有効にして導入する方法を説明します。
keywords: Analyticsの実装；マーチャンダイジング；変数；製品の構文；コンバージョン変数の構文；s.products
seo-description: マーチャンダイジング変数を有効にして導入する方法を説明します。
seo-title: マーチャンダイジング変数の実装
solution: Analytics
title: マーチャンダイジング変数の実装
topic: 開発者と実装
translation-type: tm+mt
source-git-commit: f3c3a3c74434586f2bd8bcf3c23f488994129394

---


# マーチャンダイジング変数の実装

マーチャンダイジング変数を有効にして導入する方法を説明します。

## マーチャンダイジング変数の有効化

マーチャンダイジングは、管理ツール/レポートスイート/コ **[!UICONTROL ンバージョン変数で]** 、任意のカス **[!UICONTROL タムeVarに対して有効]** にできます ****。

![](assets/merch-enable.png)

| 設定 | 説明 |
|--- |--- |
| 有効期限 | マーチャンダイジング値が有効である期間を指定します。 |
| マーチャンダイジング | **** 製品の構文：値は、内に設定されます `s.products`。<br>**** コンバージョン変数の構文：この値は、指定されたマーチャンダイジングeVarに設定されます。 |
| マーチャンダイジングバインディングイベント（コンバージョン変数の構文のみ） | 製品を現在のマーチャンダイジングカテゴリーに結び付けるときのイベントを示します。複数のイベントを選択するには、Ctrlキーを押しながらリスト内の複数の項目をクリックします。 イベントを選択できるのは、「コンバージョン変数の構文」が選択されている場合のみです。 |

## 製品の構文を使用した導入

「製品の構文」が選択されている場合、マーチャンダイジングカテゴリーが products 変数に直接入力されるので、バインディングイベントを選択して設定する必要はありません。これが推奨される方法であり、成功イベントが発生したときにその値を `s.products` に設定できない場合を除いて、この方法を使用してください。

### 構文

```js
s.products="category;product;quantity;price;event_incrementer;eVarN=merch_category|eVarM=merch_category2";
```

### 例

```js
s.events="prodView";
s.products=";Snow Goggles;;;;eVar1=goggles";
```

eVar1の値「ゴーグル」が製品「雪ゴーグル」に割り当てられます。 この製品に関連して以降に発生するすべての成功イベント（製品の追加、チェックアウト、購入など）のクレジットは「ゴーグル」に付与されます。

## コンバージョン変数の構文を使用した導入

eVar 変数を `s.products` に設定できない場合、コンバージョン変数の構文を使用する必要があります。一般的には、ページにマーチャンダイジングチャネルや検索方法のコンテキストがない場合です。そのような場合、製品ページに到達する前にマーチャンダイジング変数を設定し、その値がバインディングイベントの発生時まで保持されるようにする必要があります。

設定時にバインディングイベントが選択されると、保持された eVar の値が製品に関連付けられます。例えば、バインディングイベントとして prodView が指定されている場合、イベントの発生時にのみ現在の製品リストにマーチャンダイジングカテゴリーが結び付けられます。既に製品に割り当てられているマーチャンダイジング eVar を更新できるのは、以降のバインディングイベントのみです。

### 構文

同じページまたは前のページにバインディングイベントの前に配置します。

```js
s.eVar1="merchandising_category";
```

連結イベントが発生するページ上に配置します。

```js
s.events="prodView";
s.products="category;product";
```

### 例

訪問の1ページ目：

```js
s.eVar1="Outdoors"
```

訪問の2ページ目：

```js
s.events="prodView";
s.products=";Snow Goggles";
```

eVar1の値「Outdoors」が製品「Snow Goggles」に割り当てられます。 この製品に関連するすべての後続の成功イベント（製品の追加、チェックアウト、購入など）は、「スノーゴーグル」に計上されます。 さらに、以下のどちらかの条件が満たされるまで、マーチャンダイジング変数の現在の値が以後のすべての製品に結び付けられます。

* eVar の期限が切れる（「有効期限」の設定に基づきます）。
* マーチャンダイジング eVar が新しい値で上書きされる。

## 外部追加情報

[アドバンスコンバージョン構文マーチャンダイジング](https://analyticsdemystified.com/adobe-analytics/advanced-conversion-syntax-merchandising/) （オン） [!DNL analyticsdemystified.com]
